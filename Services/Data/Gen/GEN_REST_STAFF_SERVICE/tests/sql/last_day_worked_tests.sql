ALTER SESSION SET NLS_DATE_FORMAT = 'YYYY-MM-DD HH24:MI:SS';

SET SERVEROUTPUT ON;

DECLARE

  NULL_RESULT EXCEPTION;

  LAST_DATE_WORKED DATE;

BEGIN

  /** Test (1) **/
  LAST_DATE_WORKED := PKG_STAFF_UTIL.LAST_DATE_WORKED(1);

  IF LAST_DATE_WORKED IS NULL THEN
    RAISE NULL_RESULT;
  END IF;

  IF LAST_DATE_WORKED = TO_DATE('2015-11-04 00:00:04', 'YYYY-MM-DD HH24:MI:SS') THEN
    dbms_output.put_line('STAFF_SK: [1]: SUCCESS: --> ' || LAST_DATE_WORKED);
  ELSE
    dbms_output.put_line('STAFF_SK: [1]: FAILED: --> [EXPECTED: 2015-11-04 00:00:04] != ' || LAST_DATE_WORKED);
  END IF;

  /** Test (2) **/
  LAST_DATE_WORKED := PKG_STAFF_UTIL.LAST_DATE_WORKED(12);

  IF LAST_DATE_WORKED IS NULL THEN
    RAISE NULL_RESULT;
  END IF;

  IF LAST_DATE_WORKED = TO_DATE('2015-11-04 00:00:59', 'YYYY-MM-DD HH24:MI:SS') THEN
    dbms_output.put_line('STAFF_SK: [12]: SUCCESS: --> ' || LAST_DATE_WORKED);
  ELSE
    dbms_output.put_line('STAFF_SK: [12]: FAILED: --> [EXPECTED: 2015-11-04 00:00:59] != ' || LAST_DATE_WORKED);
  END IF;

  /** Test (3) **/
  LAST_DATE_WORKED := PKG_STAFF_UTIL.LAST_DATE_WORKED(11);

  IF LAST_DATE_WORKED IS NULL THEN
    RAISE NULL_RESULT;
  END IF;

  IF LAST_DATE_WORKED = TO_DATE('2015-11-04 11:11:11', 'YYYY-MM-DD HH24:MI:SS') THEN
    dbms_output.put_line('STAFF_SK: [11]: SUCCESS: --> ' || LAST_DATE_WORKED);
  ELSE
    dbms_output.put_line('STAFF_SK: [11]: FAILED: --> [EXPECTED: 2015-11-04 11:11:11] != ' || LAST_DATE_WORKED);
  END IF;

  EXCEPTION

    WHEN NULL_RESULT THEN
      dbms_output.put_line('WARNING: NO RESULT!');

    WHEN OTHERS THEN
      dbms_output.put_line('ERROR: UNKNOWN!');

END;