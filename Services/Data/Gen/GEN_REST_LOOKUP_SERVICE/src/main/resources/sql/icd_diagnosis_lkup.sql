SELECT * FROM (SELECT ROWNUM ROW_NUMBER, COUNT(*) OVER() TOTAL_ROWS, R1.* FROM (

  SELECT * FROM (

      (SELECT *
          FROM ICD_DIAGNOSIS_LKUP
          WHERE ICD_DIAGNOSIS_CODE_TERM_DATE = TO_DATE('9999-12-31', 'YYYY-MM-DD')
                AND (UPPER(ICD_DIAGNOSIS_CODE_SHORT_DESC) LIKE '%HEART%' OR UPPER(ICD_DIAGNOSIS_CODE_LONG_DESC) LIKE '%HEART%')
                AND ICD_DIAGNOSIS_CODE_EFF_DATE >= TO_DATE('1900-01-01', 'YYYY-MM-DD')
                AND UPPER(ICD_DIAGNOSIS_CODE) LIKE '%A0%'
                AND UPPER(ICD_DIAGNOSIS_CODE_REVISION) = 'ICD10'
          ORDER BY ICD_DIAGNOSIS_CODE ASC)
  )

) R1)

WHERE ROW_NUMBER BETWEEN 1 AND 10;
