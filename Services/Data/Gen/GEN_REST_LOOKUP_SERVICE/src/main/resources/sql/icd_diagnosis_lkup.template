SELECT * FROM (SELECT ROWNUM ROW_NUMBER, COUNT(*) OVER() TOTAL_ROWS, R1.* FROM (

  SELECT * FROM (

      (SELECT *
          FROM ICD_DIAGNOSIS_LKUP
          WHERE ICD_DIAGNOSIS_CODE_TERM_DATE = TO_DATE('%s', 'YYYY-MM-DD')
                %s
          ORDER BY %s %s)
  )

) R1)

WHERE ROW_NUMBER BETWEEN %d AND %d
