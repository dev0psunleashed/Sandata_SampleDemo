<!DOCTYPE html>
<html>
<head>
  <title>MetaDataService.java</title>
  <meta http-equiv='Content-Type' content='text/html; charset=UTF-8'/>
  <link rel='stylesheet' type='text/css' href='../../../../../../../coverage.css'/>
  <link rel='shortcut icon' type='image/png' href='../../../../../../../logo.png'/>
  <script type='text/javascript' src='../../../../../../../coverage.js'></script>
  <script type='text/javascript' src='../../../../../../../prettify.js'></script>
</head>
<body onload='prettyPrint()'>
  <table cellpadding='0' cellspacing='1'>
    <caption>Authentication Service\src\main\java\com\sandata\lab\security\auth\services\oracle\MetaDataService.java</caption>
    <tr>
      <td class='line'>1</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>package com.sandata.lab.security.auth.services.oracle;</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'></td><td>&nbsp;</td>
      <td><pre class='imports prettyprint' onclick='showHideLines(this)'><div>import com.sandata.lab.common.utils.data.DataMapper;
import com.sandata.lab.common.utils.exception.SandataRuntimeException;
import com.sandata.lab.common.utils.string.StringUtil;
import com.sandata.lab.data.model.dl.model.*;
import com.sandata.lab.data.model.dl.model.extended.ApplicationUserExt;
import com.sandata.lab.data.model.response.Response;
import com.sandata.lab.dl.db.pool.api.ConnectionPoolDataService;
import com.sandata.lab.dl.db.pool.utils.constants.App;
import com.sandata.lab.dl.db.pool.utils.constants.ConnectionType;
import com.sandata.lab.security.auth.api.OracleService;
import com.sandata.lab.security.auth.model.FindUserResult;
import com.sandata.lab.security.auth.model.jpub.SkTab;
import com.sandata.lab.security.auth.model.jpub.TmpAppModPrivTyp;
import com.sandata.lab.security.auth.model.jpub.TmpAppRoleTab;
import com.sandata.lab.security.auth.model.jpub.TmpAppRoleTyp;
import com.sandata.lab.security.auth.services.oracle.enums.Columns;
import com.sandata.lab.security.auth.services.oracle.enums.Tables;
import com.sandata.lab.security.auth.utils.cache.CacheUtil;
import com.sandata.lab.security.auth.utils.cache.Caches;
import oracle.jdbc.OracleTypes;
import oracle.sql.ARRAY;
import oracle.sql.ArrayDescriptor;
import oracle.sql.Datum;

import java.math.BigDecimal;
import java.math.BigInteger;
import java.sql.*;
import java.util.*;
</div><span>import ...</span></pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>32</td><td class='count'>1</td>
      <td><pre class='prettyprint covered' id='l32s0'>public class MetaDataService implements OracleService {</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>34</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>    private CacheUtil cacheUtil;</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>36</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>    public void setCacheUtil(CacheUtil cacheUtil) {</pre></td>
    </tr>
    <tr>
      <td class='line'>37</td><td class='count'>1</td>
      <td><pre class='prettyprint covered' id='l37s0'>        this.cacheUtil = cacheUtil;</pre></td>
    </tr>
    <tr>
      <td class='line'>38</td><td class='count'>1</td>
      <td><pre class='prettyprint covered' id='l38s0'>    }</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>40</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>    public String getTenantSkByBE(String businessEntityID) {</pre></td>
    </tr>
    <tr>
      <td class='line'>41</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l41s0'>        Connection connection = null;</pre></td>
    </tr>
    <tr>
      <td class='line'>42</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l42s0'>        PreparedStatement preparedStatement = null;</pre></td>
    </tr>
    <tr>
      <td class='line'>43</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l43s0'>        ResultSet resultSet = null;</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>45</td><td>&nbsp;</td>
      <td><pre class='comment'>        // Attempt to retrieve tenant_sk from cache before querying database</pre></td>
    </tr>
    <tr>
      <td class='line'>46</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l46s0'>        String result = (String) cacheUtil.getValue(Caches.BE_TNT_ID_XWALK.getValue(), businessEntityID);</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>48</td><td class='count'>0</td>
      <td><pre class='prettyprint jmp'>        <span id='l48s0' title='Executions: 0' class='uncovered'>if (!StringUtil.IsNullOrEmpty(result))</span> {</pre></td>
    </tr>
    <tr>
      <td class='line'>49</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l49s0'>            return result;</pre></td>
    </tr>
    <tr>
      <td class='line'>50</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>        }</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>52</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>        try {</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>54</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l54s0'>            connection = getOracleConnection();</pre></td>
    </tr>
    <tr>
      <td class='line'>55</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l55s0'>            connection.setAutoCommit(true);</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>57</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l57s0'>            String sql = String.format("SELECT %s FROM %s.%s WHERE %s = ? ",</pre></td>
    </tr>
    <tr>
      <td class='line'>58</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>                Columns.META_TENANT_BE_XWALK_TENANT_SK.getValue(),</pre></td>
    </tr>
    <tr>
      <td class='line'>59</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>                ConnectionType.METADATA,</pre></td>
    </tr>
    <tr>
      <td class='line'>60</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>                Tables.META_TENANT_BE_XWALK.getValue(),</pre></td>
    </tr>
    <tr>
      <td class='line'>61</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>                Columns.META_TENANT_BE_XWALK_BE_ID.getValue());</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>63</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l63s0'>            preparedStatement = connection.prepareStatement(sql);</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>65</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l65s0'>            preparedStatement.setString(1, businessEntityID);</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>67</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l67s0'>            resultSet = preparedStatement.executeQuery();</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>69</td><td class='count'>0</td>
      <td><pre class='prettyprint jmp'>            <span id='l69s0' title='Executions: 0' class='uncovered'>while (resultSet.next())</span> {</pre></td>
    </tr>
    <tr>
      <td class='line'>70</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l70s0'>                result = resultSet.getString(Columns.META_TENANT_BE_XWALK_TENANT_SK.getValue());</pre></td>
    </tr>
    <tr>
      <td class='line'>71</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>            }</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>73</td><td>&nbsp;</td>
      <td><pre class='comment'>            //Update cache with retrieved crosswalk value</pre></td>
    </tr>
    <tr>
      <td class='line'>74</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l74s0'>            cacheUtil.putValue(Caches.BE_TNT_ID_XWALK.getValue(), businessEntityID, result);</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>76</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l76s0'>            return result;</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>78</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l78s0'>        } catch (Exception e) {</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>80</td><td>&nbsp;</td>
      <td><pre class='comment'>            // Rollback</pre></td>
    </tr>
    <tr>
      <td class='line'>81</td><td class='count'>0</td>
      <td><pre class='prettyprint jmp'>            <span id='l81s0' title='Executions: 0' class='uncovered'>if (connection != null)</span> {</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>83</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>                try {</pre></td>
    </tr>
    <tr>
      <td class='line'>84</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l84s0'>                    connection.rollback();</pre></td>
    </tr>
    <tr>
      <td class='line'>85</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l85s0'>                } catch (SQLException sqle) {</pre></td>
    </tr>
    <tr>
      <td class='line'>86</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l86s0'>                    sqle.printStackTrace();</pre></td>
    </tr>
    <tr>
      <td class='line'>87</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l87s0'>                }</pre></td>
    </tr>
    <tr>
      <td class='line'>88</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>            }</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>90</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l90s0'>            throw new SandataRuntimeException(String.format("%s: %s",</pre></td>
    </tr>
    <tr>
      <td class='line'>91</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>                e.getClass().getName(), e.getMessage()));</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>93</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>        } finally {</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>95</td><td>&nbsp;</td>
      <td><pre class='comment'>            // Close the ResultSet</pre></td>
    </tr>
    <tr>
      <td class='line'>96</td><td class='count'>0</td>
      <td><pre class='prettyprint jmp'>            <span id='l96s0' title='Executions: 0' class='uncovered'>if (resultSet != null)</span> {</pre></td>
    </tr>
    <tr>
      <td class='line'>97</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>                try {</pre></td>
    </tr>
    <tr>
      <td class='line'>98</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l98s0'>                    resultSet.close();</pre></td>
    </tr>
    <tr>
      <td class='line'>99</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l99s0'>                } catch (SQLException sqle) {</pre></td>
    </tr>
    <tr>
      <td class='line'>100</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l100s0'>                    sqle.printStackTrace();</pre></td>
    </tr>
    <tr>
      <td class='line'>101</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l101s0'>                }</pre></td>
    </tr>
    <tr>
      <td class='line'>102</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>            }</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>104</td><td>&nbsp;</td>
      <td><pre class='comment'>            // Close the statement</pre></td>
    </tr>
    <tr>
      <td class='line'>105</td><td class='count'>0</td>
      <td><pre class='prettyprint jmp'>            <span id='l105s0' title='Executions: 0' class='uncovered'>if (preparedStatement != null)</span> {</pre></td>
    </tr>
    <tr>
      <td class='line'>106</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>                try {</pre></td>
    </tr>
    <tr>
      <td class='line'>107</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l107s0'>                    preparedStatement.close();</pre></td>
    </tr>
    <tr>
      <td class='line'>108</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l108s0'>                } catch (SQLException sqle) {</pre></td>
    </tr>
    <tr>
      <td class='line'>109</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l109s0'>                    sqle.printStackTrace();</pre></td>
    </tr>
    <tr>
      <td class='line'>110</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l110s0'>                }</pre></td>
    </tr>
    <tr>
      <td class='line'>111</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>            }</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>113</td><td>&nbsp;</td>
      <td><pre class='comment'>            // Close the connection</pre></td>
    </tr>
    <tr>
      <td class='line'>114</td><td class='count'>0</td>
      <td><pre class='prettyprint jmp'>            <span id='l114s0' title='Executions: 0' class='uncovered'>if (connection != null)</span> {</pre></td>
    </tr>
    <tr>
      <td class='line'>115</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>                try {</pre></td>
    </tr>
    <tr>
      <td class='line'>116</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l116s0'>                    connection.close();</pre></td>
    </tr>
    <tr>
      <td class='line'>117</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l117s0'>                } catch (SQLException sqle) {</pre></td>
    </tr>
    <tr>
      <td class='line'>118</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l118s0'>                    sqle.printStackTrace();</pre></td>
    </tr>
    <tr>
      <td class='line'>119</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l119s0'>                }</pre></td>
    </tr>
    <tr>
      <td class='line'>120</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>            }</pre></td>
    </tr>
    <tr>
      <td class='line'>121</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>        }</pre></td>
    </tr>
    <tr>
      <td class='line'>122</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>    }</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>124</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>    public ApplicationUser getApplicationUserByUserName(String userName) {</pre></td>
    </tr>
    <tr>
      <td class='line'>125</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l125s0'>        Connection connection = null;</pre></td>
    </tr>
    <tr>
      <td class='line'>126</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l126s0'>        PreparedStatement preparedStatement = null;</pre></td>
    </tr>
    <tr>
      <td class='line'>127</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l127s0'>        ResultSet resultSet = null;</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>129</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>        try {</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>131</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l131s0'>            connection = getOracleConnection();</pre></td>
    </tr>
    <tr>
      <td class='line'>132</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l132s0'>            connection.setAutoCommit(true);</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>134</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l134s0'>            String sql = String.format("SELECT * FROM %s.%s WHERE %s = ? ",</pre></td>
    </tr>
    <tr>
      <td class='line'>135</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>                ConnectionType.METADATA,</pre></td>
    </tr>
    <tr>
      <td class='line'>136</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>                Tables.META_APP_USER.getValue(),</pre></td>
    </tr>
    <tr>
      <td class='line'>137</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>                "USER_NAME");</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>139</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l139s0'>            preparedStatement = connection.prepareStatement(sql);</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>141</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l141s0'>            preparedStatement.setString(1, userName);</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>143</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l143s0'>            resultSet = preparedStatement.executeQuery();</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>145</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l145s0'>            ApplicationUser applicationUser = null;</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>147</td><td class='count'>0</td>
      <td><pre class='prettyprint jmp'>            <span id='l147s0' title='Executions: 0' class='uncovered'>while (resultSet.next())</span> {</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>149</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l149s0'>                applicationUser = new ApplicationUser();</pre></td>
    </tr>
    <tr>
      <td class='line'>150</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l150s0'>                applicationUser.setApplicationUserSK(resultSet.getBigDecimal("APP_USER_SK").toBigInteger());</pre></td>
    </tr>
    <tr>
      <td class='line'>151</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l151s0'>                applicationUser.setRecordUpdateTimestamp(resultSet.getTimestamp("REC_UPDATE_TMSTP"));</pre></td>
    </tr>
    <tr>
      <td class='line'>152</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l152s0'>                applicationUser.setRecordCreateTimestamp(resultSet.getTimestamp("REC_CREATE_TMSTP"));</pre></td>
    </tr>
    <tr>
      <td class='line'>153</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l153s0'>                applicationUser.setUserName(resultSet.getString("USER_NAME"));</pre></td>
    </tr>
    <tr>
      <td class='line'>154</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l154s0'>                applicationUser.setUserGloballyUniqueIdentifier(resultSet.getString("USER_GUID"));</pre></td>
    </tr>
    <tr>
      <td class='line'>155</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l155s0'>                applicationUser.setUserLastName(resultSet.getString("USER_LAST_NAME"));</pre></td>
    </tr>
    <tr>
      <td class='line'>156</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l156s0'>                applicationUser.setUserMiddleName(resultSet.getString("USER_MIDDLE_NAME"));</pre></td>
    </tr>
    <tr>
      <td class='line'>157</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l157s0'>                applicationUser.setUserFirstName(resultSet.getString("USER_FIRST_NAME"));</pre></td>
    </tr>
    <tr>
      <td class='line'>158</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>            }</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>160</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l160s0'>            return applicationUser;</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>162</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l162s0'>        } catch (Exception e) {</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>164</td><td>&nbsp;</td>
      <td><pre class='comment'>            // Rollback</pre></td>
    </tr>
    <tr>
      <td class='line'>165</td><td class='count'>0</td>
      <td><pre class='prettyprint jmp'>            <span id='l165s0' title='Executions: 0' class='uncovered'>if (connection != null)</span> {</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>167</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>                try {</pre></td>
    </tr>
    <tr>
      <td class='line'>168</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l168s0'>                    connection.rollback();</pre></td>
    </tr>
    <tr>
      <td class='line'>169</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l169s0'>                } catch (SQLException sqle) {</pre></td>
    </tr>
    <tr>
      <td class='line'>170</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l170s0'>                    sqle.printStackTrace();</pre></td>
    </tr>
    <tr>
      <td class='line'>171</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l171s0'>                }</pre></td>
    </tr>
    <tr>
      <td class='line'>172</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>            }</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>174</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l174s0'>            throw new SandataRuntimeException(String.format("%s: %s",</pre></td>
    </tr>
    <tr>
      <td class='line'>175</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>                e.getClass().getName(), e.getMessage()));</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>177</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>        } finally {</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>179</td><td>&nbsp;</td>
      <td><pre class='comment'>            // Close the ResultSet</pre></td>
    </tr>
    <tr>
      <td class='line'>180</td><td class='count'>0</td>
      <td><pre class='prettyprint jmp'>            <span id='l180s0' title='Executions: 0' class='uncovered'>if (resultSet != null)</span> {</pre></td>
    </tr>
    <tr>
      <td class='line'>181</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>                try {</pre></td>
    </tr>
    <tr>
      <td class='line'>182</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l182s0'>                    resultSet.close();</pre></td>
    </tr>
    <tr>
      <td class='line'>183</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l183s0'>                } catch (SQLException sqle) {</pre></td>
    </tr>
    <tr>
      <td class='line'>184</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l184s0'>                    sqle.printStackTrace();</pre></td>
    </tr>
    <tr>
      <td class='line'>185</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l185s0'>                }</pre></td>
    </tr>
    <tr>
      <td class='line'>186</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>            }</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>188</td><td>&nbsp;</td>
      <td><pre class='comment'>            // Close the statement</pre></td>
    </tr>
    <tr>
      <td class='line'>189</td><td class='count'>0</td>
      <td><pre class='prettyprint jmp'>            <span id='l189s0' title='Executions: 0' class='uncovered'>if (preparedStatement != null)</span> {</pre></td>
    </tr>
    <tr>
      <td class='line'>190</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>                try {</pre></td>
    </tr>
    <tr>
      <td class='line'>191</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l191s0'>                    preparedStatement.close();</pre></td>
    </tr>
    <tr>
      <td class='line'>192</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l192s0'>                } catch (SQLException sqle) {</pre></td>
    </tr>
    <tr>
      <td class='line'>193</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l193s0'>                    sqle.printStackTrace();</pre></td>
    </tr>
    <tr>
      <td class='line'>194</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l194s0'>                }</pre></td>
    </tr>
    <tr>
      <td class='line'>195</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>            }</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>197</td><td>&nbsp;</td>
      <td><pre class='comment'>            // Close the connection</pre></td>
    </tr>
    <tr>
      <td class='line'>198</td><td class='count'>0</td>
      <td><pre class='prettyprint jmp'>            <span id='l198s0' title='Executions: 0' class='uncovered'>if (connection != null)</span> {</pre></td>
    </tr>
    <tr>
      <td class='line'>199</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>                try {</pre></td>
    </tr>
    <tr>
      <td class='line'>200</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l200s0'>                    connection.close();</pre></td>
    </tr>
    <tr>
      <td class='line'>201</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l201s0'>                } catch (SQLException sqle) {</pre></td>
    </tr>
    <tr>
      <td class='line'>202</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l202s0'>                    sqle.printStackTrace();</pre></td>
    </tr>
    <tr>
      <td class='line'>203</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l203s0'>                }</pre></td>
    </tr>
    <tr>
      <td class='line'>204</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>            }</pre></td>
    </tr>
    <tr>
      <td class='line'>205</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>        }</pre></td>
    </tr>
    <tr>
      <td class='line'>206</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>    }</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>208</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>    public ApplicationUserExt getApplicationUserByUserName(String userName, BigDecimal tenantSk) {</pre></td>
    </tr>
    <tr>
      <td class='line'>209</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l209s0'>        Connection connection = null;</pre></td>
    </tr>
    <tr>
      <td class='line'>210</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l210s0'>        PreparedStatement preparedStatement = null;</pre></td>
    </tr>
    <tr>
      <td class='line'>211</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l211s0'>        ResultSet resultSet = null;</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>213</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>        try {</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>215</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l215s0'>            connection = getOracleConnection();</pre></td>
    </tr>
    <tr>
      <td class='line'>216</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l216s0'>            connection.setAutoCommit(true);</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>218</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l218s0'>            String sql = String.format(</pre></td>
    </tr>
    <tr>
      <td class='line'>219</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>                "SELECT DISTINCT * FROM %s.%s T1 " +</pre></td>
    </tr>
    <tr>
      <td class='line'>220</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>                    "JOIN %s.%s T2 ON T1.%s = T2.%s  WHERE T1.%s = ? AND T2.%s = ? ",</pre></td>
    </tr>
    <tr>
      <td class='line'>221</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>                ConnectionType.METADATA,</pre></td>
    </tr>
    <tr>
      <td class='line'>222</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>                Tables.META_APP_USER.getValue(),</pre></td>
    </tr>
    <tr>
      <td class='line'>223</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>                ConnectionType.METADATA,</pre></td>
    </tr>
    <tr>
      <td class='line'>224</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>                Tables.META_APP_USER_ROLE.getValue(),</pre></td>
    </tr>
    <tr>
      <td class='line'>225</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>                Columns.META_APP_USER_SK.getValue(),</pre></td>
    </tr>
    <tr>
      <td class='line'>226</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>                Columns.META_APP_USER_SK.getValue(),</pre></td>
    </tr>
    <tr>
      <td class='line'>227</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>                "USER_NAME",</pre></td>
    </tr>
    <tr>
      <td class='line'>228</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>                Columns.META_TENANT_BE_XWALK_TENANT_SK.getValue());</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>230</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l230s0'>            preparedStatement = connection.prepareStatement(sql);</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>232</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l232s0'>            preparedStatement.setString(1, userName);</pre></td>
    </tr>
    <tr>
      <td class='line'>233</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l233s0'>            preparedStatement.setBigDecimal(2, tenantSk);</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>235</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l235s0'>            resultSet = preparedStatement.executeQuery();</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>237</td><td>&nbsp;</td>
      <td><pre class='comment'>            //UserName is a unique key in MetaData</pre></td>
    </tr>
    <tr>
      <td class='line'>238</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l238s0'>            ApplicationUserExt applicationUser = new ApplicationUserExt();</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>241</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l241s0'>            Map&lt;BigInteger, ApplicationUserRole> applicationUserRoleMap = new HashMap&lt;>();</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>243</td><td class='count'>0</td>
      <td><pre class='prettyprint jmp'>            <span id='l243s0' title='Executions: 0' class='uncovered'>while (resultSet.next())</span> {</pre></td>
    </tr>
    <tr>
      <td class='line'>244</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l244s0'>                applicationUser.setApplicationUserSK(resultSet.getBigDecimal("APP_USER_SK").toBigInteger());</pre></td>
    </tr>
    <tr>
      <td class='line'>245</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l245s0'>                applicationUser.setRecordUpdateTimestamp(resultSet.getTimestamp("REC_UPDATE_TMSTP"));</pre></td>
    </tr>
    <tr>
      <td class='line'>246</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l246s0'>                applicationUser.setRecordCreateTimestamp(resultSet.getTimestamp("REC_CREATE_TMSTP"));</pre></td>
    </tr>
    <tr>
      <td class='line'>247</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l247s0'>                applicationUser.setUserName(resultSet.getString("USER_NAME"));</pre></td>
    </tr>
    <tr>
      <td class='line'>248</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l248s0'>                applicationUser.setUserGloballyUniqueIdentifier(resultSet.getString("USER_GUID"));</pre></td>
    </tr>
    <tr>
      <td class='line'>249</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l249s0'>                applicationUser.setUserLastName(resultSet.getString("USER_LAST_NAME"));</pre></td>
    </tr>
    <tr>
      <td class='line'>250</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l250s0'>                applicationUser.setUserMiddleName(resultSet.getString("USER_MIDDLE_NAME"));</pre></td>
    </tr>
    <tr>
      <td class='line'>251</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l251s0'>                applicationUser.setUserFirstName(resultSet.getString("USER_FIRST_NAME"));</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>253</td><td>&nbsp;</td>
      <td><pre class='comment'>                //There can be multiple roles for a user</pre></td>
    </tr>
    <tr>
      <td class='line'>254</td><td>&nbsp;</td>
      <td><pre class='comment'>                //Store each one in a map</pre></td>
    </tr>
    <tr>
      <td class='line'>255</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l255s0'>                ApplicationUserRole applicationUserRole = new ApplicationUserRole();</pre></td>
    </tr>
    <tr>
      <td class='line'>256</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l256s0'>                applicationUserRole.setApplicationTenantSK(resultSet.getBigDecimal("APP_TENANT_SK").toBigInteger());</pre></td>
    </tr>
    <tr>
      <td class='line'>257</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l257s0'>                applicationUserRole.setRecordCreateTimestamp(resultSet.getTimestamp("REC_CREATE_TMSTP"));</pre></td>
    </tr>
    <tr>
      <td class='line'>258</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l258s0'>                applicationUserRole.setRecordUpdateTimestamp(resultSet.getTimestamp("REC_UPDATE_TMSTP"));</pre></td>
    </tr>
    <tr>
      <td class='line'>259</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l259s0'>                applicationUserRole.setApplicationRoleSK(resultSet.getBigDecimal("APP_ROLE_SK").toBigInteger());</pre></td>
    </tr>
    <tr>
      <td class='line'>260</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l260s0'>                applicationUserRole.setApplicationUserSK(resultSet.getBigDecimal("APP_USER_SK").toBigInteger());</pre></td>
    </tr>
    <tr>
      <td class='line'>261</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l261s0'>                applicationUserRole.setApplicationUserRoleSK(resultSet.getBigDecimal("APP_USER_ROLE_SK").toBigInteger());</pre></td>
    </tr>
    <tr>
      <td class='line'>262</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l262s0'>                applicationUserRoleMap.put(applicationUserRole.getApplicationUserRoleSK(), applicationUserRole);</pre></td>
    </tr>
    <tr>
      <td class='line'>263</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l263s0'>            }</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>265</td><td class='count'>0</td>
      <td><pre class='prettyprint jmp'>            <span id='l265s0' title='Executions: 0' class='uncovered'>if (applicationUserRoleMap.size() > 0)</span> {</pre></td>
    </tr>
    <tr>
      <td class='line'>266</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l266s0'>                applicationUser.getApplicationUserRole().addAll(new ArrayList&lt;ApplicationUserRole>(applicationUserRoleMap.values()));</pre></td>
    </tr>
    <tr>
      <td class='line'>267</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>            }</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>269</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l269s0'>            return applicationUser;</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>271</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l271s0'>        } catch (Exception e) {</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>273</td><td>&nbsp;</td>
      <td><pre class='comment'>            // Rollback</pre></td>
    </tr>
    <tr>
      <td class='line'>274</td><td class='count'>0</td>
      <td><pre class='prettyprint jmp'>            <span id='l274s0' title='Executions: 0' class='uncovered'>if (connection != null)</span> {</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>276</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>                try {</pre></td>
    </tr>
    <tr>
      <td class='line'>277</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l277s0'>                    connection.rollback();</pre></td>
    </tr>
    <tr>
      <td class='line'>278</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l278s0'>                } catch (SQLException sqle) {</pre></td>
    </tr>
    <tr>
      <td class='line'>279</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l279s0'>                    sqle.printStackTrace();</pre></td>
    </tr>
    <tr>
      <td class='line'>280</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l280s0'>                }</pre></td>
    </tr>
    <tr>
      <td class='line'>281</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>            }</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>283</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l283s0'>            throw new SandataRuntimeException(String.format("%s: %s",</pre></td>
    </tr>
    <tr>
      <td class='line'>284</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>                e.getClass().getName(), e.getMessage()));</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>286</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>        } finally {</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>288</td><td>&nbsp;</td>
      <td><pre class='comment'>            // Close the ResultSet</pre></td>
    </tr>
    <tr>
      <td class='line'>289</td><td class='count'>0</td>
      <td><pre class='prettyprint jmp'>            <span id='l289s0' title='Executions: 0' class='uncovered'>if (resultSet != null)</span> {</pre></td>
    </tr>
    <tr>
      <td class='line'>290</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>                try {</pre></td>
    </tr>
    <tr>
      <td class='line'>291</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l291s0'>                    resultSet.close();</pre></td>
    </tr>
    <tr>
      <td class='line'>292</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l292s0'>                } catch (SQLException sqle) {</pre></td>
    </tr>
    <tr>
      <td class='line'>293</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l293s0'>                    sqle.printStackTrace();</pre></td>
    </tr>
    <tr>
      <td class='line'>294</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l294s0'>                }</pre></td>
    </tr>
    <tr>
      <td class='line'>295</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>            }</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>297</td><td>&nbsp;</td>
      <td><pre class='comment'>            // Close the statement</pre></td>
    </tr>
    <tr>
      <td class='line'>298</td><td class='count'>0</td>
      <td><pre class='prettyprint jmp'>            <span id='l298s0' title='Executions: 0' class='uncovered'>if (preparedStatement != null)</span> {</pre></td>
    </tr>
    <tr>
      <td class='line'>299</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>                try {</pre></td>
    </tr>
    <tr>
      <td class='line'>300</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l300s0'>                    preparedStatement.close();</pre></td>
    </tr>
    <tr>
      <td class='line'>301</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l301s0'>                } catch (SQLException sqle) {</pre></td>
    </tr>
    <tr>
      <td class='line'>302</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l302s0'>                    sqle.printStackTrace();</pre></td>
    </tr>
    <tr>
      <td class='line'>303</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l303s0'>                }</pre></td>
    </tr>
    <tr>
      <td class='line'>304</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>            }</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>306</td><td>&nbsp;</td>
      <td><pre class='comment'>            // Close the connection</pre></td>
    </tr>
    <tr>
      <td class='line'>307</td><td class='count'>0</td>
      <td><pre class='prettyprint jmp'>            <span id='l307s0' title='Executions: 0' class='uncovered'>if (connection != null)</span> {</pre></td>
    </tr>
    <tr>
      <td class='line'>308</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>                try {</pre></td>
    </tr>
    <tr>
      <td class='line'>309</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l309s0'>                    connection.close();</pre></td>
    </tr>
    <tr>
      <td class='line'>310</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l310s0'>                } catch (SQLException sqle) {</pre></td>
    </tr>
    <tr>
      <td class='line'>311</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l311s0'>                    sqle.printStackTrace();</pre></td>
    </tr>
    <tr>
      <td class='line'>312</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l312s0'>                }</pre></td>
    </tr>
    <tr>
      <td class='line'>313</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>            }</pre></td>
    </tr>
    <tr>
      <td class='line'>314</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>        }</pre></td>
    </tr>
    <tr>
      <td class='line'>315</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>    }</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>317</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>    public boolean applicationUserExists(String userName, BigDecimal tenantSk) {</pre></td>
    </tr>
    <tr>
      <td class='line'>318</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l318s0'>        Connection connection = null;</pre></td>
    </tr>
    <tr>
      <td class='line'>319</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l319s0'>        PreparedStatement preparedStatement = null;</pre></td>
    </tr>
    <tr>
      <td class='line'>320</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l320s0'>        ResultSet resultSet = null;</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>322</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>        try {</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>324</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l324s0'>            connection = getOracleConnection();</pre></td>
    </tr>
    <tr>
      <td class='line'>325</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l325s0'>            connection.setAutoCommit(true);</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>327</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l327s0'>            String sql = String.format("SELECT 'TRUE' AS USER_EXISTS FROM DUAL WHERE EXISTS ( " +</pre></td>
    </tr>
    <tr>
      <td class='line'>328</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>                    "SELECT * FROM %s.%s T1 " +</pre></td>
    </tr>
    <tr>
      <td class='line'>329</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>                    "JOIN %s.%s T2 ON T1.%s = T2.%s  WHERE T1.%s = ? AND T2.%s = ? )",</pre></td>
    </tr>
    <tr>
      <td class='line'>330</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>                ConnectionType.METADATA,</pre></td>
    </tr>
    <tr>
      <td class='line'>331</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>                Tables.META_APP_USER.getValue(),</pre></td>
    </tr>
    <tr>
      <td class='line'>332</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>                ConnectionType.METADATA,</pre></td>
    </tr>
    <tr>
      <td class='line'>333</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>                Tables.META_APP_USER_ROLE.getValue(),</pre></td>
    </tr>
    <tr>
      <td class='line'>334</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>                Columns.META_APP_USER_SK.getValue(),</pre></td>
    </tr>
    <tr>
      <td class='line'>335</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>                Columns.META_APP_USER_SK.getValue(),</pre></td>
    </tr>
    <tr>
      <td class='line'>336</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>                "USER_NAME",</pre></td>
    </tr>
    <tr>
      <td class='line'>337</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>                Columns.META_TENANT_BE_XWALK_TENANT_SK.getValue());</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>339</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l339s0'>            preparedStatement = connection.prepareStatement(sql);</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>341</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l341s0'>            preparedStatement.setString(1, userName);</pre></td>
    </tr>
    <tr>
      <td class='line'>342</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l342s0'>            preparedStatement.setBigDecimal(2, tenantSk);</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>344</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l344s0'>            resultSet = preparedStatement.executeQuery();</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>346</td><td>&nbsp;</td>
      <td><pre class='comment'>            //UserName is a unique key in MetaData</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>348</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l348s0'>            boolean result = false;</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>350</td><td class='count'>0</td>
      <td><pre class='prettyprint jmp'>            <span id='l350s0' title='Executions: 0' class='uncovered'>while (resultSet.next())</span> {</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>352</td><td class='count'>0</td>
      <td><pre class='prettyprint jmp'>                <span id='l352s0' title='Executions: 0' class='uncovered'>result = resultSet.getString("USER_EXISTS").equals("TRUE")</span> ? <span id='l352s1' title='Executions: 0' class='uncovered'>true</span> : <span id='l352s2' title='Executions: 0' class='uncovered'>false;</span></pre></td>
    </tr>
    <tr>
      <td class='line'>353</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>            }</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>355</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l355s0'>            return result;</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>358</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l358s0'>        } catch (Exception e) {</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>360</td><td>&nbsp;</td>
      <td><pre class='comment'>            // Rollback</pre></td>
    </tr>
    <tr>
      <td class='line'>361</td><td class='count'>0</td>
      <td><pre class='prettyprint jmp'>            <span id='l361s0' title='Executions: 0' class='uncovered'>if (connection != null)</span> {</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>363</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>                try {</pre></td>
    </tr>
    <tr>
      <td class='line'>364</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l364s0'>                    connection.rollback();</pre></td>
    </tr>
    <tr>
      <td class='line'>365</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l365s0'>                } catch (SQLException sqle) {</pre></td>
    </tr>
    <tr>
      <td class='line'>366</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l366s0'>                    sqle.printStackTrace();</pre></td>
    </tr>
    <tr>
      <td class='line'>367</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l367s0'>                }</pre></td>
    </tr>
    <tr>
      <td class='line'>368</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>            }</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>370</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l370s0'>            throw new SandataRuntimeException(String.format("%s: %s",</pre></td>
    </tr>
    <tr>
      <td class='line'>371</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>                e.getClass().getName(), e.getMessage()));</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>373</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>        } finally {</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>375</td><td>&nbsp;</td>
      <td><pre class='comment'>            // Close the ResultSet</pre></td>
    </tr>
    <tr>
      <td class='line'>376</td><td class='count'>0</td>
      <td><pre class='prettyprint jmp'>            <span id='l376s0' title='Executions: 0' class='uncovered'>if (resultSet != null)</span> {</pre></td>
    </tr>
    <tr>
      <td class='line'>377</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>                try {</pre></td>
    </tr>
    <tr>
      <td class='line'>378</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l378s0'>                    resultSet.close();</pre></td>
    </tr>
    <tr>
      <td class='line'>379</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l379s0'>                } catch (SQLException sqle) {</pre></td>
    </tr>
    <tr>
      <td class='line'>380</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l380s0'>                    sqle.printStackTrace();</pre></td>
    </tr>
    <tr>
      <td class='line'>381</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l381s0'>                }</pre></td>
    </tr>
    <tr>
      <td class='line'>382</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>            }</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>384</td><td>&nbsp;</td>
      <td><pre class='comment'>            // Close the statement</pre></td>
    </tr>
    <tr>
      <td class='line'>385</td><td class='count'>0</td>
      <td><pre class='prettyprint jmp'>            <span id='l385s0' title='Executions: 0' class='uncovered'>if (preparedStatement != null)</span> {</pre></td>
    </tr>
    <tr>
      <td class='line'>386</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>                try {</pre></td>
    </tr>
    <tr>
      <td class='line'>387</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l387s0'>                    preparedStatement.close();</pre></td>
    </tr>
    <tr>
      <td class='line'>388</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l388s0'>                } catch (SQLException sqle) {</pre></td>
    </tr>
    <tr>
      <td class='line'>389</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l389s0'>                    sqle.printStackTrace();</pre></td>
    </tr>
    <tr>
      <td class='line'>390</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l390s0'>                }</pre></td>
    </tr>
    <tr>
      <td class='line'>391</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>            }</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>393</td><td>&nbsp;</td>
      <td><pre class='comment'>            // Close the connection</pre></td>
    </tr>
    <tr>
      <td class='line'>394</td><td class='count'>0</td>
      <td><pre class='prettyprint jmp'>            <span id='l394s0' title='Executions: 0' class='uncovered'>if (connection != null)</span> {</pre></td>
    </tr>
    <tr>
      <td class='line'>395</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>                try {</pre></td>
    </tr>
    <tr>
      <td class='line'>396</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l396s0'>                    connection.close();</pre></td>
    </tr>
    <tr>
      <td class='line'>397</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l397s0'>                } catch (SQLException sqle) {</pre></td>
    </tr>
    <tr>
      <td class='line'>398</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l398s0'>                    sqle.printStackTrace();</pre></td>
    </tr>
    <tr>
      <td class='line'>399</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l399s0'>                }</pre></td>
    </tr>
    <tr>
      <td class='line'>400</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>            }</pre></td>
    </tr>
    <tr>
      <td class='line'>401</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>        }</pre></td>
    </tr>
    <tr>
      <td class='line'>402</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>    }</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>404</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>    public int deleteUserUserAppRolesForTenant(BigDecimal appUserSk, BigDecimal tenantSk) {</pre></td>
    </tr>
    <tr>
      <td class='line'>405</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l405s0'>        Connection connection = null;</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>407</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l407s0'>        CallableStatement callableStatement = null;</pre></td>
    </tr>
    <tr>
      <td class='line'>408</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l408s0'>        PreparedStatement preparedStatement = null;</pre></td>
    </tr>
    <tr>
      <td class='line'>409</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l409s0'>        ResultSet resultSet = null;</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>411</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>        try {</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>413</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l413s0'>            connection = getOracleConnection();</pre></td>
    </tr>
    <tr>
      <td class='line'>414</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l414s0'>            connection.setAutoCommit(false);</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>417</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l417s0'>            String packageName = "PKG_METADATA_SECURITY";</pre></td>
    </tr>
    <tr>
      <td class='line'>418</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l418s0'>            String methodName = "delete_app_user";</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>420</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l420s0'>            String callMethod = String.format("{?=call %s.%s.%s(?,?)}", ConnectionType.METADATA, packageName, methodName);</pre></td>
    </tr>
    <tr>
      <td class='line'>421</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l421s0'>            callableStatement = connection.prepareCall(callMethod);</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>423</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l423s0'>            callableStatement.registerOutParameter(1, OracleTypes.INTEGER);</pre></td>
    </tr>
    <tr>
      <td class='line'>424</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l424s0'>            callableStatement.setObject(2, tenantSk);</pre></td>
    </tr>
    <tr>
      <td class='line'>425</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l425s0'>            callableStatement.setObject(3, appUserSk);</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>427</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l427s0'>            callableStatement.execute();</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>429</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l429s0'>            int result = (Integer) callableStatement.getObject(1);</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>431</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l431s0'>            connection.commit();</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>433</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l433s0'>            return result;</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>435</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l435s0'>        } catch (Exception e) {</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>437</td><td>&nbsp;</td>
      <td><pre class='comment'>            // Rollback</pre></td>
    </tr>
    <tr>
      <td class='line'>438</td><td class='count'>0</td>
      <td><pre class='prettyprint jmp'>            <span id='l438s0' title='Executions: 0' class='uncovered'>if (connection != null)</span> {</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>440</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>                try {</pre></td>
    </tr>
    <tr>
      <td class='line'>441</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l441s0'>                    connection.rollback();</pre></td>
    </tr>
    <tr>
      <td class='line'>442</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l442s0'>                } catch (SQLException sqle) {</pre></td>
    </tr>
    <tr>
      <td class='line'>443</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l443s0'>                    sqle.printStackTrace();</pre></td>
    </tr>
    <tr>
      <td class='line'>444</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l444s0'>                }</pre></td>
    </tr>
    <tr>
      <td class='line'>445</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>            }</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>447</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l447s0'>            throw new SandataRuntimeException(String.format("%s: %s",</pre></td>
    </tr>
    <tr>
      <td class='line'>448</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>                e.getClass().getName(), e.getMessage()));</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>450</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>        } finally {</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>452</td><td>&nbsp;</td>
      <td><pre class='comment'>            // Close the ResultSet</pre></td>
    </tr>
    <tr>
      <td class='line'>453</td><td class='count'>0</td>
      <td><pre class='prettyprint jmp'>            <span id='l453s0' title='Executions: 0' class='uncovered'>if (resultSet != null)</span> {</pre></td>
    </tr>
    <tr>
      <td class='line'>454</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>                try {</pre></td>
    </tr>
    <tr>
      <td class='line'>455</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l455s0'>                    resultSet.close();</pre></td>
    </tr>
    <tr>
      <td class='line'>456</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l456s0'>                } catch (SQLException sqle) {</pre></td>
    </tr>
    <tr>
      <td class='line'>457</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l457s0'>                    sqle.printStackTrace();</pre></td>
    </tr>
    <tr>
      <td class='line'>458</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l458s0'>                }</pre></td>
    </tr>
    <tr>
      <td class='line'>459</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>            }</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>461</td><td>&nbsp;</td>
      <td><pre class='comment'>            // Close the statement</pre></td>
    </tr>
    <tr>
      <td class='line'>462</td><td class='count'>0</td>
      <td><pre class='prettyprint jmp'>            <span id='l462s0' title='Executions: 0' class='uncovered'>if (callableStatement != null)</span> {</pre></td>
    </tr>
    <tr>
      <td class='line'>463</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>                try {</pre></td>
    </tr>
    <tr>
      <td class='line'>464</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l464s0'>                    callableStatement.close();</pre></td>
    </tr>
    <tr>
      <td class='line'>465</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l465s0'>                } catch (SQLException sqle) {</pre></td>
    </tr>
    <tr>
      <td class='line'>466</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l466s0'>                    sqle.printStackTrace();</pre></td>
    </tr>
    <tr>
      <td class='line'>467</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l467s0'>                }</pre></td>
    </tr>
    <tr>
      <td class='line'>468</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>            }</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>470</td><td>&nbsp;</td>
      <td><pre class='comment'>            // Close the connection</pre></td>
    </tr>
    <tr>
      <td class='line'>471</td><td class='count'>0</td>
      <td><pre class='prettyprint jmp'>            <span id='l471s0' title='Executions: 0' class='uncovered'>if (connection != null)</span> {</pre></td>
    </tr>
    <tr>
      <td class='line'>472</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>                try {</pre></td>
    </tr>
    <tr>
      <td class='line'>473</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l473s0'>                    connection.close();</pre></td>
    </tr>
    <tr>
      <td class='line'>474</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l474s0'>                } catch (SQLException sqle) {</pre></td>
    </tr>
    <tr>
      <td class='line'>475</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l475s0'>                    sqle.printStackTrace();</pre></td>
    </tr>
    <tr>
      <td class='line'>476</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l476s0'>                }</pre></td>
    </tr>
    <tr>
      <td class='line'>477</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>            }</pre></td>
    </tr>
    <tr>
      <td class='line'>478</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>        }</pre></td>
    </tr>
    <tr>
      <td class='line'>479</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>    }</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>482</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>    public List&lt;ApplicationSecureGroup> getApplicationSecureGroups() {</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>484</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l484s0'>        Connection connection = null;</pre></td>
    </tr>
    <tr>
      <td class='line'>485</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l485s0'>        Statement statement = null;</pre></td>
    </tr>
    <tr>
      <td class='line'>486</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l486s0'>        ResultSet resultSet = null;</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>488</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>        try {</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>490</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l490s0'>            connection = getOracleConnection();</pre></td>
    </tr>
    <tr>
      <td class='line'>491</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l491s0'>            connection.setAutoCommit(true);</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>493</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l493s0'>            String sql = "SELECT * FROM "</pre></td>
    </tr>
    <tr>
      <td class='line'>494</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>                + ConnectionType.METADATA</pre></td>
    </tr>
    <tr>
      <td class='line'>495</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>                + ".APP_SECR_GRP";</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>497</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l497s0'>            statement = connection.createStatement();</pre></td>
    </tr>
    <tr>
      <td class='line'>498</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l498s0'>            resultSet = statement.executeQuery(sql);</pre></td>
    </tr>
    <tr>
      <td class='line'>499</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l499s0'>            List&lt;ApplicationSecureGroup> applicationSecureGroupList =</pre></td>
    </tr>
    <tr>
      <td class='line'>500</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>                (List&lt;ApplicationSecureGroup>) new DataMapper().map(resultSet, "com.sandata.lab.data.model.dl.model.ApplicationSecureGroup");</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>502</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l502s0'>            return applicationSecureGroupList;</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>504</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l504s0'>        } catch (Exception e) {</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>506</td><td>&nbsp;</td>
      <td><pre class='comment'>            // Rollback</pre></td>
    </tr>
    <tr>
      <td class='line'>507</td><td class='count'>0</td>
      <td><pre class='prettyprint jmp'>            <span id='l507s0' title='Executions: 0' class='uncovered'>if (connection != null)</span> {</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>509</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>                try {</pre></td>
    </tr>
    <tr>
      <td class='line'>510</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l510s0'>                    connection.rollback();</pre></td>
    </tr>
    <tr>
      <td class='line'>511</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l511s0'>                } catch (SQLException sqle) {</pre></td>
    </tr>
    <tr>
      <td class='line'>512</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l512s0'>                    sqle.printStackTrace();</pre></td>
    </tr>
    <tr>
      <td class='line'>513</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l513s0'>                }</pre></td>
    </tr>
    <tr>
      <td class='line'>514</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>            }</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>516</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l516s0'>            throw new SandataRuntimeException(String.format("%s: %s",</pre></td>
    </tr>
    <tr>
      <td class='line'>517</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>                e.getClass().getName(), e.getMessage()));</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>519</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>        } finally {</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>521</td><td>&nbsp;</td>
      <td><pre class='comment'>            // Close the ResultSet</pre></td>
    </tr>
    <tr>
      <td class='line'>522</td><td class='count'>0</td>
      <td><pre class='prettyprint jmp'>            <span id='l522s0' title='Executions: 0' class='uncovered'>if (resultSet != null)</span> {</pre></td>
    </tr>
    <tr>
      <td class='line'>523</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>                try {</pre></td>
    </tr>
    <tr>
      <td class='line'>524</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l524s0'>                    resultSet.close();</pre></td>
    </tr>
    <tr>
      <td class='line'>525</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l525s0'>                } catch (SQLException sqle) {</pre></td>
    </tr>
    <tr>
      <td class='line'>526</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l526s0'>                    sqle.printStackTrace();</pre></td>
    </tr>
    <tr>
      <td class='line'>527</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l527s0'>                }</pre></td>
    </tr>
    <tr>
      <td class='line'>528</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>            }</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>530</td><td>&nbsp;</td>
      <td><pre class='comment'>            // Close the statement</pre></td>
    </tr>
    <tr>
      <td class='line'>531</td><td class='count'>0</td>
      <td><pre class='prettyprint jmp'>            <span id='l531s0' title='Executions: 0' class='uncovered'>if (statement != null)</span> {</pre></td>
    </tr>
    <tr>
      <td class='line'>532</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>                try {</pre></td>
    </tr>
    <tr>
      <td class='line'>533</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l533s0'>                    statement.close();</pre></td>
    </tr>
    <tr>
      <td class='line'>534</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l534s0'>                } catch (SQLException sqle) {</pre></td>
    </tr>
    <tr>
      <td class='line'>535</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l535s0'>                    sqle.printStackTrace();</pre></td>
    </tr>
    <tr>
      <td class='line'>536</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l536s0'>                }</pre></td>
    </tr>
    <tr>
      <td class='line'>537</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>            }</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>539</td><td>&nbsp;</td>
      <td><pre class='comment'>            // Close the connection</pre></td>
    </tr>
    <tr>
      <td class='line'>540</td><td class='count'>0</td>
      <td><pre class='prettyprint jmp'>            <span id='l540s0' title='Executions: 0' class='uncovered'>if (connection != null)</span> {</pre></td>
    </tr>
    <tr>
      <td class='line'>541</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>                try {</pre></td>
    </tr>
    <tr>
      <td class='line'>542</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l542s0'>                    connection.close();</pre></td>
    </tr>
    <tr>
      <td class='line'>543</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l543s0'>                } catch (SQLException sqle) {</pre></td>
    </tr>
    <tr>
      <td class='line'>544</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l544s0'>                    sqle.printStackTrace();</pre></td>
    </tr>
    <tr>
      <td class='line'>545</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l545s0'>                }</pre></td>
    </tr>
    <tr>
      <td class='line'>546</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>            }</pre></td>
    </tr>
    <tr>
      <td class='line'>547</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>        }</pre></td>
    </tr>
    <tr>
      <td class='line'>548</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>    }</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>551</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>    public int insertUpdateRole(TmpAppRoleTyp tmpAppRoleTyp) {</pre></td>
    </tr>
    <tr>
      <td class='line'>552</td><td class='count'>1</td>
      <td><pre class='prettyprint covered' id='l552s0'>        Connection connection = null;</pre></td>
    </tr>
    <tr>
      <td class='line'>553</td><td class='count'>1</td>
      <td><pre class='prettyprint covered' id='l553s0'>        CallableStatement callableStatement = null;</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>556</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>        try {</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>558</td><td class='count'>1</td>
      <td><pre class='prettyprint covered' id='l558s0'>            connection = getOracleConnection();</pre></td>
    </tr>
    <tr>
      <td class='line'>559</td><td class='count'>1</td>
      <td><pre class='prettyprint covered' id='l559s0'>            connection.setAutoCommit(false);</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>561</td><td class='count'>1</td>
      <td><pre class='prettyprint covered' id='l561s0'>            String packageName = "PKG_METADATA_SECURITY";</pre></td>
    </tr>
    <tr>
      <td class='line'>562</td><td class='count'>1</td>
      <td><pre class='prettyprint covered' id='l562s0'>            String methodName = "save_app_role";</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>564</td><td>&nbsp;</td>
      <td><pre class='comment'>//            String callMethod = String.format("{?=call %s.%s.%s(?)}", ConnectionType.METADATA, packageName, methodName);</pre></td>
    </tr>
    <tr>
      <td class='line'>565</td><td class='count'>1</td>
      <td><pre class='prettyprint covered' id='l565s0'>            String callMethod = String.format("{?=call %s.%s(?)}", packageName, methodName);</pre></td>
    </tr>
    <tr>
      <td class='line'>566</td><td class='count'>1</td>
      <td><pre class='prettyprint covered' id='l566s0'>            callableStatement = connection.prepareCall(callMethod);</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>568</td><td class='count'>1</td>
      <td><pre class='prettyprint covered' id='l568s0'>            callableStatement.registerOutParameter(1, OracleTypes.INTEGER);</pre></td>
    </tr>
    <tr>
      <td class='line'>569</td><td class='count'>1</td>
      <td><pre class='prettyprint covered' id='l569s0'>            callableStatement.registerOutParameter(2, OracleTypes.STRUCT, TmpAppRoleTyp._SQL_NAME);</pre></td>
    </tr>
    <tr>
      <td class='line'>570</td><td class='count'>1</td>
      <td><pre class='prettyprint covered' id='l570s0'>            callableStatement.setObject(2, tmpAppRoleTyp);</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>573</td><td class='count'>1</td>
      <td><pre class='prettyprint covered' id='l573s0'>            callableStatement.execute();</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>575</td><td class='count'>1</td>
      <td><pre class='prettyprint covered' id='l575s0'>            Datum datum = (Datum) callableStatement.getObject(2);</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>577</td><td class='count'>1</td>
      <td><pre class='prettyprint covered' id='l577s0'>            TmpAppRoleTyp tmpAppRoleTyp1 = new TmpAppRoleTyp();</pre></td>
    </tr>
    <tr>
      <td class='line'>578</td><td class='count'>1</td>
      <td><pre class='prettyprint covered' id='l578s0'>            tmpAppRoleTyp1 = (TmpAppRoleTyp) tmpAppRoleTyp.create(datum, OracleTypes.STRUCT);</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>581</td><td class='count'>1</td>
      <td><pre class='prettyprint covered' id='l581s0'>            int result = tmpAppRoleTyp1.getAppRoleSk().intValue();</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>584</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l584s0'>            connection.commit();</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>586</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l586s0'>            return result;</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>589</td><td class='count'>1</td>
      <td><pre class='prettyprint covered' id='l589s0'>        } catch (Exception e) {</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>591</td><td>&nbsp;</td>
      <td><pre class='comment'>            // Rollback</pre></td>
    </tr>
    <tr>
      <td class='line'>592</td><td class='count'>1</td>
      <td><pre class='prettyprint jmp'>            <span id='l592s0' title='Executions: 1' class='covered'>if (connection != null)</span> {</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>594</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>                try {</pre></td>
    </tr>
    <tr>
      <td class='line'>595</td><td class='count'>1</td>
      <td><pre class='prettyprint covered' id='l595s0'>                    connection.rollback();</pre></td>
    </tr>
    <tr>
      <td class='line'>596</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l596s0'>                } catch (SQLException sqle) {</pre></td>
    </tr>
    <tr>
      <td class='line'>597</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l597s0'>                    sqle.printStackTrace();</pre></td>
    </tr>
    <tr>
      <td class='line'>598</td><td class='count'>1</td>
      <td><pre class='prettyprint covered' id='l598s0'>                }</pre></td>
    </tr>
    <tr>
      <td class='line'>599</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>            }</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>601</td><td class='count'>1</td>
      <td><pre class='prettyprint covered' id='l601s0'>            throw new SandataRuntimeException(e.getMessage());</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>603</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>        } finally {</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>606</td><td>&nbsp;</td>
      <td><pre class='comment'>            // Close the Statement</pre></td>
    </tr>
    <tr>
      <td class='line'>607</td><td class='count'>1</td>
      <td><pre class='prettyprint jmp'>            <span id='l607s0' title='Executions: 1' class='covered'>if (callableStatement != null)</span> {</pre></td>
    </tr>
    <tr>
      <td class='line'>608</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>                try {</pre></td>
    </tr>
    <tr>
      <td class='line'>609</td><td class='count'>1</td>
      <td><pre class='prettyprint covered' id='l609s0'>                    callableStatement.close();</pre></td>
    </tr>
    <tr>
      <td class='line'>610</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l610s0'>                } catch (SQLException sqle) {</pre></td>
    </tr>
    <tr>
      <td class='line'>611</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l611s0'>                    sqle.printStackTrace();</pre></td>
    </tr>
    <tr>
      <td class='line'>612</td><td class='count'>1</td>
      <td><pre class='prettyprint covered' id='l612s0'>                }</pre></td>
    </tr>
    <tr>
      <td class='line'>613</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>            }</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>615</td><td>&nbsp;</td>
      <td><pre class='comment'>            // Close the Connection</pre></td>
    </tr>
    <tr>
      <td class='line'>616</td><td class='count'>1</td>
      <td><pre class='prettyprint jmp'>            <span id='l616s0' title='Executions: 1' class='covered'>if (connection != null)</span> {</pre></td>
    </tr>
    <tr>
      <td class='line'>617</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>                try {</pre></td>
    </tr>
    <tr>
      <td class='line'>618</td><td class='count'>1</td>
      <td><pre class='prettyprint covered' id='l618s0'>                    connection.close();</pre></td>
    </tr>
    <tr>
      <td class='line'>619</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l619s0'>                } catch (SQLException sqle) {</pre></td>
    </tr>
    <tr>
      <td class='line'>620</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l620s0'>                    sqle.printStackTrace();</pre></td>
    </tr>
    <tr>
      <td class='line'>621</td><td class='count'>2</td>
      <td><pre class='prettyprint covered' id='l621s0'>                }</pre></td>
    </tr>
    <tr>
      <td class='line'>622</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>            }</pre></td>
    </tr>
    <tr>
      <td class='line'>623</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>        }</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>625</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>    }</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>627</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>    public int deleteRole(int appRoleSk) {</pre></td>
    </tr>
    <tr>
      <td class='line'>628</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l628s0'>        Connection connection = null;</pre></td>
    </tr>
    <tr>
      <td class='line'>629</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l629s0'>        CallableStatement callableStatement = null;</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>632</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>        try {</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>634</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l634s0'>            connection = getOracleConnection();</pre></td>
    </tr>
    <tr>
      <td class='line'>635</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l635s0'>            connection.setAutoCommit(false);</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>637</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l637s0'>            String packageName = "PKG_METADATA_SECURITY";</pre></td>
    </tr>
    <tr>
      <td class='line'>638</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l638s0'>            String methodName = "delete_app_role";</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>640</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l640s0'>            String callMethod = String.format("{?=call %s.%s.%s(?)}", ConnectionType.METADATA, packageName, methodName);</pre></td>
    </tr>
    <tr>
      <td class='line'>641</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l641s0'>            callableStatement = connection.prepareCall(callMethod);</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>643</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l643s0'>            callableStatement.registerOutParameter(1, OracleTypes.INTEGER);</pre></td>
    </tr>
    <tr>
      <td class='line'>644</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l644s0'>            callableStatement.setBigDecimal(2, new BigDecimal(appRoleSk));</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>646</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l646s0'>            callableStatement.execute();</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>648</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l648s0'>            int result = (Integer) callableStatement.getObject(1);</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>650</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l650s0'>            connection.commit();</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>652</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l652s0'>            return result;</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>655</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l655s0'>        } catch (Exception e) {</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>657</td><td>&nbsp;</td>
      <td><pre class='comment'>            // Rollback</pre></td>
    </tr>
    <tr>
      <td class='line'>658</td><td class='count'>0</td>
      <td><pre class='prettyprint jmp'>            <span id='l658s0' title='Executions: 0' class='uncovered'>if (connection != null)</span> {</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>660</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>                try {</pre></td>
    </tr>
    <tr>
      <td class='line'>661</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l661s0'>                    connection.rollback();</pre></td>
    </tr>
    <tr>
      <td class='line'>662</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l662s0'>                } catch (SQLException sqle) {</pre></td>
    </tr>
    <tr>
      <td class='line'>663</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l663s0'>                    sqle.printStackTrace();</pre></td>
    </tr>
    <tr>
      <td class='line'>664</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l664s0'>                }</pre></td>
    </tr>
    <tr>
      <td class='line'>665</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>            }</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>667</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l667s0'>            throw new SandataRuntimeException(e.getMessage());</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>669</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>        } finally {</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>672</td><td>&nbsp;</td>
      <td><pre class='comment'>            // Close the Statement</pre></td>
    </tr>
    <tr>
      <td class='line'>673</td><td class='count'>0</td>
      <td><pre class='prettyprint jmp'>            <span id='l673s0' title='Executions: 0' class='uncovered'>if (callableStatement != null)</span> {</pre></td>
    </tr>
    <tr>
      <td class='line'>674</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>                try {</pre></td>
    </tr>
    <tr>
      <td class='line'>675</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l675s0'>                    callableStatement.close();</pre></td>
    </tr>
    <tr>
      <td class='line'>676</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l676s0'>                } catch (SQLException sqle) {</pre></td>
    </tr>
    <tr>
      <td class='line'>677</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l677s0'>                    sqle.printStackTrace();</pre></td>
    </tr>
    <tr>
      <td class='line'>678</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l678s0'>                }</pre></td>
    </tr>
    <tr>
      <td class='line'>679</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>            }</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>681</td><td>&nbsp;</td>
      <td><pre class='comment'>            // Close the Connection</pre></td>
    </tr>
    <tr>
      <td class='line'>682</td><td class='count'>0</td>
      <td><pre class='prettyprint jmp'>            <span id='l682s0' title='Executions: 0' class='uncovered'>if (connection != null)</span> {</pre></td>
    </tr>
    <tr>
      <td class='line'>683</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>                try {</pre></td>
    </tr>
    <tr>
      <td class='line'>684</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l684s0'>                    connection.close();</pre></td>
    </tr>
    <tr>
      <td class='line'>685</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l685s0'>                } catch (SQLException sqle) {</pre></td>
    </tr>
    <tr>
      <td class='line'>686</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l686s0'>                    sqle.printStackTrace();</pre></td>
    </tr>
    <tr>
      <td class='line'>687</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l687s0'>                }</pre></td>
    </tr>
    <tr>
      <td class='line'>688</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>            }</pre></td>
    </tr>
    <tr>
      <td class='line'>689</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>        }</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>691</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>    }</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>693</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>    public TmpAppRoleTyp getRole(BigInteger appRoleSk) {</pre></td>
    </tr>
    <tr>
      <td class='line'>694</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l694s0'>        Connection connection = null;</pre></td>
    </tr>
    <tr>
      <td class='line'>695</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l695s0'>        CallableStatement callableStatement = null;</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>698</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>        try {</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>700</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l700s0'>            connection = getOracleConnection();</pre></td>
    </tr>
    <tr>
      <td class='line'>701</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l701s0'>            connection.setAutoCommit(true);</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>703</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l703s0'>            String packageName = "PKG_METADATA_SECURITY";</pre></td>
    </tr>
    <tr>
      <td class='line'>704</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l704s0'>            String methodName = "get_app_role";</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>706</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l706s0'>            String callMethod = String.format("{?=call %s.%s.%s(?,?)}", ConnectionType.METADATA, packageName, methodName);</pre></td>
    </tr>
    <tr>
      <td class='line'>707</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l707s0'>            callableStatement = connection.prepareCall(callMethod);</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>709</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l709s0'>            callableStatement.registerOutParameter(1, OracleTypes.INTEGER);</pre></td>
    </tr>
    <tr>
      <td class='line'>710</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l710s0'>            callableStatement.setObject(2, appRoleSk);</pre></td>
    </tr>
    <tr>
      <td class='line'>711</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l711s0'>            callableStatement.registerOutParameter(3, OracleTypes.STRUCT, TmpAppRoleTyp._SQL_NAME);</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>713</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l713s0'>            callableStatement.execute();</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>715</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l715s0'>            int returnValue = callableStatement.getInt(1);</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>717</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l717s0'>            Datum result = (Datum) callableStatement.getObject(3);</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>719</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l719s0'>            TmpAppRoleTyp tmpAppRoleTyp = new TmpAppRoleTyp();</pre></td>
    </tr>
    <tr>
      <td class='line'>720</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l720s0'>            tmpAppRoleTyp = (TmpAppRoleTyp) tmpAppRoleTyp.create(result, OracleTypes.STRUCT);</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>722</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l722s0'>            return tmpAppRoleTyp;</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>725</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l725s0'>        } catch (Exception e) {</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>727</td><td>&nbsp;</td>
      <td><pre class='comment'>            // Rollback</pre></td>
    </tr>
    <tr>
      <td class='line'>728</td><td class='count'>0</td>
      <td><pre class='prettyprint jmp'>            <span id='l728s0' title='Executions: 0' class='uncovered'>if (connection != null)</span> {</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>730</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>                try {</pre></td>
    </tr>
    <tr>
      <td class='line'>731</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l731s0'>                    connection.rollback();</pre></td>
    </tr>
    <tr>
      <td class='line'>732</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l732s0'>                } catch (SQLException sqle) {</pre></td>
    </tr>
    <tr>
      <td class='line'>733</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l733s0'>                    sqle.printStackTrace();</pre></td>
    </tr>
    <tr>
      <td class='line'>734</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l734s0'>                }</pre></td>
    </tr>
    <tr>
      <td class='line'>735</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>            }</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>737</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l737s0'>            throw new SandataRuntimeException(e.getMessage());</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>739</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>        } finally {</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>742</td><td>&nbsp;</td>
      <td><pre class='comment'>            // Close the Statement</pre></td>
    </tr>
    <tr>
      <td class='line'>743</td><td class='count'>0</td>
      <td><pre class='prettyprint jmp'>            <span id='l743s0' title='Executions: 0' class='uncovered'>if (callableStatement != null)</span> {</pre></td>
    </tr>
    <tr>
      <td class='line'>744</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>                try {</pre></td>
    </tr>
    <tr>
      <td class='line'>745</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l745s0'>                    callableStatement.close();</pre></td>
    </tr>
    <tr>
      <td class='line'>746</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l746s0'>                } catch (SQLException sqle) {</pre></td>
    </tr>
    <tr>
      <td class='line'>747</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l747s0'>                    sqle.printStackTrace();</pre></td>
    </tr>
    <tr>
      <td class='line'>748</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l748s0'>                }</pre></td>
    </tr>
    <tr>
      <td class='line'>749</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>            }</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>751</td><td>&nbsp;</td>
      <td><pre class='comment'>            // Close the Connection</pre></td>
    </tr>
    <tr>
      <td class='line'>752</td><td class='count'>0</td>
      <td><pre class='prettyprint jmp'>            <span id='l752s0' title='Executions: 0' class='uncovered'>if (connection != null)</span> {</pre></td>
    </tr>
    <tr>
      <td class='line'>753</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>                try {</pre></td>
    </tr>
    <tr>
      <td class='line'>754</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l754s0'>                    connection.close();</pre></td>
    </tr>
    <tr>
      <td class='line'>755</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l755s0'>                } catch (SQLException sqle) {</pre></td>
    </tr>
    <tr>
      <td class='line'>756</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l756s0'>                    sqle.printStackTrace();</pre></td>
    </tr>
    <tr>
      <td class='line'>757</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l757s0'>                }</pre></td>
    </tr>
    <tr>
      <td class='line'>758</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>            }</pre></td>
    </tr>
    <tr>
      <td class='line'>759</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>        }</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>761</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>    }</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>763</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>    public TmpAppRoleTab getRoles(String businessEntityID) {</pre></td>
    </tr>
    <tr>
      <td class='line'>764</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l764s0'>        Connection connection = null;</pre></td>
    </tr>
    <tr>
      <td class='line'>765</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l765s0'>        CallableStatement callableStatement = null;</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>767</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l767s0'>        String tenantSk = getTenantSkByBE(businessEntityID);</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>769</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>        try {</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>771</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l771s0'>            connection = getOracleConnection();</pre></td>
    </tr>
    <tr>
      <td class='line'>772</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l772s0'>            connection.setAutoCommit(true);</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>774</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l774s0'>            String packageName = "PKG_METADATA_SECURITY";</pre></td>
    </tr>
    <tr>
      <td class='line'>775</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l775s0'>            String methodName = "get_app_role_list";</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>777</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l777s0'>            String callMethod = String.format("{?=call %s.%s.%s(?,?)}", ConnectionType.METADATA, packageName, methodName);</pre></td>
    </tr>
    <tr>
      <td class='line'>778</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l778s0'>            callableStatement = connection.prepareCall(callMethod);</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>780</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l780s0'>            callableStatement.registerOutParameter(1, OracleTypes.INTEGER);</pre></td>
    </tr>
    <tr>
      <td class='line'>781</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l781s0'>            callableStatement.setObject(2, new BigInteger(tenantSk));</pre></td>
    </tr>
    <tr>
      <td class='line'>782</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l782s0'>            callableStatement.registerOutParameter(3, OracleTypes.ARRAY, TmpAppRoleTab._SQL_NAME);</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>784</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l784s0'>            callableStatement.execute();</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>786</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l786s0'>            int returnValue = callableStatement.getInt(1);</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>788</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l788s0'>            Datum result = (Datum) callableStatement.getObject(3);</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>790</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l790s0'>            TmpAppRoleTab tmpAppRoleTab = new TmpAppRoleTab();</pre></td>
    </tr>
    <tr>
      <td class='line'>791</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l791s0'>            tmpAppRoleTab = (TmpAppRoleTab) tmpAppRoleTab.create(result, OracleTypes.ARRAY);</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>793</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l793s0'>            return tmpAppRoleTab;</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>796</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l796s0'>        } catch (Exception e) {</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>798</td><td>&nbsp;</td>
      <td><pre class='comment'>            // Rollback</pre></td>
    </tr>
    <tr>
      <td class='line'>799</td><td class='count'>0</td>
      <td><pre class='prettyprint jmp'>            <span id='l799s0' title='Executions: 0' class='uncovered'>if (connection != null)</span> {</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>801</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>                try {</pre></td>
    </tr>
    <tr>
      <td class='line'>802</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l802s0'>                    connection.rollback();</pre></td>
    </tr>
    <tr>
      <td class='line'>803</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l803s0'>                } catch (SQLException sqle) {</pre></td>
    </tr>
    <tr>
      <td class='line'>804</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l804s0'>                    sqle.printStackTrace();</pre></td>
    </tr>
    <tr>
      <td class='line'>805</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l805s0'>                }</pre></td>
    </tr>
    <tr>
      <td class='line'>806</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>            }</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>808</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l808s0'>            throw new SandataRuntimeException(e.getMessage());</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>810</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>        } finally {</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>813</td><td>&nbsp;</td>
      <td><pre class='comment'>            // Close the Statement</pre></td>
    </tr>
    <tr>
      <td class='line'>814</td><td class='count'>0</td>
      <td><pre class='prettyprint jmp'>            <span id='l814s0' title='Executions: 0' class='uncovered'>if (callableStatement != null)</span> {</pre></td>
    </tr>
    <tr>
      <td class='line'>815</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>                try {</pre></td>
    </tr>
    <tr>
      <td class='line'>816</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l816s0'>                    callableStatement.close();</pre></td>
    </tr>
    <tr>
      <td class='line'>817</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l817s0'>                } catch (SQLException sqle) {</pre></td>
    </tr>
    <tr>
      <td class='line'>818</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l818s0'>                    sqle.printStackTrace();</pre></td>
    </tr>
    <tr>
      <td class='line'>819</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l819s0'>                }</pre></td>
    </tr>
    <tr>
      <td class='line'>820</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>            }</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>822</td><td>&nbsp;</td>
      <td><pre class='comment'>            // Close the Connection</pre></td>
    </tr>
    <tr>
      <td class='line'>823</td><td class='count'>0</td>
      <td><pre class='prettyprint jmp'>            <span id='l823s0' title='Executions: 0' class='uncovered'>if (connection != null)</span> {</pre></td>
    </tr>
    <tr>
      <td class='line'>824</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>                try {</pre></td>
    </tr>
    <tr>
      <td class='line'>825</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l825s0'>                    connection.close();</pre></td>
    </tr>
    <tr>
      <td class='line'>826</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l826s0'>                } catch (SQLException sqle) {</pre></td>
    </tr>
    <tr>
      <td class='line'>827</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l827s0'>                    sqle.printStackTrace();</pre></td>
    </tr>
    <tr>
      <td class='line'>828</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l828s0'>                }</pre></td>
    </tr>
    <tr>
      <td class='line'>829</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>            }</pre></td>
    </tr>
    <tr>
      <td class='line'>830</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>        }</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>832</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>    }</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>834</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>    public Response findUser(String sql, List&lt;String> params, int page, int pageSize) throws Exception {</pre></td>
    </tr>
    <tr>
      <td class='line'>835</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l835s0'>        Connection connection = null;</pre></td>
    </tr>
    <tr>
      <td class='line'>836</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l836s0'>        PreparedStatement preparedStatement = null;</pre></td>
    </tr>
    <tr>
      <td class='line'>837</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l837s0'>        ResultSet resultSet = null;</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>840</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>        try {</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>842</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l842s0'>            connection = getOracleConnection();</pre></td>
    </tr>
    <tr>
      <td class='line'>843</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l843s0'>            connection.setAutoCommit(true);</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>846</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l846s0'>            preparedStatement = connection.prepareStatement(sql);</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>848</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l848s0'>            int i = 0;</pre></td>
    </tr>
    <tr>
      <td class='line'>849</td><td class='count'>0</td>
      <td><pre class='prettyprint jmp'>            <span id='l849s0' title='Executions: 0' class='uncovered'>for (String para</span> : <span id='l849s1' title='Executions: 0' class='uncovered'>params)</span> {</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>851</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l851s0'>                preparedStatement.setString(i + 1, params.get(i).toUpperCase());</pre></td>
    </tr>
    <tr>
      <td class='line'>852</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l852s0'>                i++;</pre></td>
    </tr>
    <tr>
      <td class='line'>853</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l853s0'>            }</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>855</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l855s0'>            int toRow = page * pageSize;</pre></td>
    </tr>
    <tr>
      <td class='line'>856</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l856s0'>            int fromRow = toRow - (pageSize - 1);</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>858</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l858s0'>            preparedStatement.setInt(i + 1, fromRow);</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>860</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l860s0'>            i++;</pre></td>
    </tr>
    <tr>
      <td class='line'>861</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l861s0'>            preparedStatement.setInt(i + 1, toRow);</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>863</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l863s0'>            resultSet = preparedStatement.executeQuery();</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>865</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l865s0'>            Map&lt;BigInteger, FindUserResult> applicationUsers = new HashMap&lt;>();</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>867</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l867s0'>            List&lt;ApplicationUserRole> applicationUserRoles = new ArrayList&lt;>();</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>869</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l869s0'>            List&lt;ApplicationRole> applicationRoles = new ArrayList&lt;>();</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>871</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l871s0'>            int totalRows = 0;</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>873</td><td class='count'>0</td>
      <td><pre class='prettyprint jmp'>            <span id='l873s0' title='Executions: 0' class='uncovered'>while (resultSet.next())</span> {</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>876</td><td class='count'>0</td>
      <td><pre class='prettyprint jmp'>                <span id='l876s0' title='Executions: 0' class='uncovered'>if (totalRows == 0)</span> {</pre></td>
    </tr>
    <tr>
      <td class='line'>877</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l877s0'>                    totalRows = resultSet.getBigDecimal("TOTAL_ROWS").intValue();</pre></td>
    </tr>
    <tr>
      <td class='line'>878</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>                }</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>880</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l880s0'>                FindUserResult findUserResult = new FindUserResult();</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>882</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l882s0'>                findUserResult.setApplicationUserSK(resultSet.getBigDecimal("APP_USER_SK").toBigInteger());</pre></td>
    </tr>
    <tr>
      <td class='line'>883</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l883s0'>                findUserResult.setRecordUpdateTimestamp(resultSet.getTimestamp("REC_UPDATE_TMSTP"));</pre></td>
    </tr>
    <tr>
      <td class='line'>884</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l884s0'>                findUserResult.setRecordCreateTimestamp(resultSet.getTimestamp("REC_CREATE_TMSTP"));</pre></td>
    </tr>
    <tr>
      <td class='line'>885</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l885s0'>                findUserResult.setUserName(resultSet.getString("USER_NAME"));</pre></td>
    </tr>
    <tr>
      <td class='line'>886</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l886s0'>                findUserResult.setUserGloballyUniqueIdentifier(resultSet.getString("USER_GUID"));</pre></td>
    </tr>
    <tr>
      <td class='line'>887</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l887s0'>                findUserResult.setUserLastName(resultSet.getString("USER_LAST_NAME"));</pre></td>
    </tr>
    <tr>
      <td class='line'>888</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l888s0'>                findUserResult.setUserMiddleName(resultSet.getString("USER_MIDDLE_NAME"));</pre></td>
    </tr>
    <tr>
      <td class='line'>889</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l889s0'>                findUserResult.setUserFirstName(resultSet.getString("USER_FIRST_NAME"));</pre></td>
    </tr>
    <tr>
      <td class='line'>890</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l890s0'>                applicationUsers.put(findUserResult.getApplicationUserSK(), findUserResult);</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>892</td><td>&nbsp;</td>
      <td><pre class='comment'>                //There can be multiple roles for a user</pre></td>
    </tr>
    <tr>
      <td class='line'>893</td><td>&nbsp;</td>
      <td><pre class='comment'>                //Store each one in a map</pre></td>
    </tr>
    <tr>
      <td class='line'>894</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l894s0'>                ApplicationUserRole applicationUserRole = new ApplicationUserRole();</pre></td>
    </tr>
    <tr>
      <td class='line'>895</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l895s0'>                applicationUserRole.setApplicationTenantSK(resultSet.getBigDecimal("APP_TENANT_SK").toBigInteger());</pre></td>
    </tr>
    <tr>
      <td class='line'>896</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l896s0'>                applicationUserRole.setRecordCreateTimestamp(resultSet.getTimestamp("REC_CREATE_TMSTP"));</pre></td>
    </tr>
    <tr>
      <td class='line'>897</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l897s0'>                applicationUserRole.setRecordUpdateTimestamp(resultSet.getTimestamp("REC_UPDATE_TMSTP"));</pre></td>
    </tr>
    <tr>
      <td class='line'>898</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l898s0'>                applicationUserRole.setApplicationRoleSK(resultSet.getBigDecimal("APP_ROLE_SK").toBigInteger());</pre></td>
    </tr>
    <tr>
      <td class='line'>899</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l899s0'>                applicationUserRole.setApplicationUserSK(resultSet.getBigDecimal("APP_USER_SK").toBigInteger());</pre></td>
    </tr>
    <tr>
      <td class='line'>900</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l900s0'>                applicationUserRole.setApplicationUserRoleSK(resultSet.getBigDecimal("APP_USER_ROLE_SK").toBigInteger());</pre></td>
    </tr>
    <tr>
      <td class='line'>901</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l901s0'>                applicationUserRoles.add(applicationUserRole);</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>903</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l903s0'>                ApplicationRole applicationRole = new ApplicationRole();</pre></td>
    </tr>
    <tr>
      <td class='line'>904</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l904s0'>                applicationRole.setApplicationRoleSK(resultSet.getBigDecimal("APP_ROLE_SK").toBigInteger());</pre></td>
    </tr>
    <tr>
      <td class='line'>905</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l905s0'>                applicationRole.setApplicationTenantSK(resultSet.getBigDecimal("APP_TENANT_SK").toBigInteger());</pre></td>
    </tr>
    <tr>
      <td class='line'>906</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l906s0'>                applicationRole.setRoleName(resultSet.getString("ROLE_NAME"));</pre></td>
    </tr>
    <tr>
      <td class='line'>907</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l907s0'>                applicationRoles.add(applicationRole);</pre></td>
    </tr>
    <tr>
      <td class='line'>908</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l908s0'>            }</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>910</td><td class='count'>0</td>
      <td><pre class='prettyprint jmp'>            <span id='l910s0' title='Executions: 0' class='uncovered'>for (ApplicationUserRole applicationUserRole</span> : <span id='l910s1' title='Executions: 0' class='uncovered'>applicationUserRoles)</span> {</pre></td>
    </tr>
    <tr>
      <td class='line'>911</td><td class='count'>0</td>
      <td><pre class='prettyprint jmp'>                <span id='l911s0' title='Executions: 0' class='uncovered'>for (FindUserResult applicationUser</span> : <span id='l911s1' title='Executions: 0' class='uncovered'>applicationUsers.values())</span> {</pre></td>
    </tr>
    <tr>
      <td class='line'>912</td><td class='count'>0</td>
      <td><pre class='prettyprint jmp'>                    <span id='l912s0' title='Executions: 0' class='uncovered'>if (applicationUserRole.getApplicationUserSK().equals(applicationUser.getApplicationUserSK()))</span> {</pre></td>
    </tr>
    <tr>
      <td class='line'>913</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l913s0'>                        applicationUser.setApplicationUserRoleSk(applicationUserRole.getApplicationUserRoleSK());</pre></td>
    </tr>
    <tr>
      <td class='line'>914</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l914s0'>                        applicationUser.setApplictionTenantSk(applicationUserRole.getApplicationTenantSK());</pre></td>
    </tr>
    <tr>
      <td class='line'>915</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>                    }</pre></td>
    </tr>
    <tr>
      <td class='line'>916</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l916s0'>                }</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>918</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l918s0'>            }</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>920</td><td class='count'>0</td>
      <td><pre class='prettyprint jmp'>            <span id='l920s0' title='Executions: 0' class='uncovered'>for (ApplicationRole appRole</span> : <span id='l920s1' title='Executions: 0' class='uncovered'>applicationRoles)</span> {</pre></td>
    </tr>
    <tr>
      <td class='line'>921</td><td class='count'>0</td>
      <td><pre class='prettyprint jmp'>                <span id='l921s0' title='Executions: 0' class='uncovered'>for (FindUserResult applicationUser</span> : <span id='l921s1' title='Executions: 0' class='uncovered'>applicationUsers.values())</span> {</pre></td>
    </tr>
    <tr>
      <td class='line'>922</td><td class='count'>0</td>
      <td><pre class='prettyprint jmp'>                    <span id='l922s0' title='Executions: 0' class='uncovered'>if (StringUtil.IsNullOrEmpty(applicationUser.getRoleName()))</span> {</pre></td>
    </tr>
    <tr>
      <td class='line'>923</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l923s0'>                        applicationUser.setRoleName(appRole.getRoleName());</pre></td>
    </tr>
    <tr>
      <td class='line'>924</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l924s0'>                        applicationUser.setApplicationRoleSk(appRole.getApplicationRoleSK());</pre></td>
    </tr>
    <tr>
      <td class='line'>925</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>                    }</pre></td>
    </tr>
    <tr>
      <td class='line'>926</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l926s0'>                }</pre></td>
    </tr>
    <tr>
      <td class='line'>927</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l927s0'>            }</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>929</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l929s0'>            Response response = new Response();</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>931</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l931s0'>            response.setTotalRows(totalRows);</pre></td>
    </tr>
    <tr>
      <td class='line'>932</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l932s0'>            response.setPage(page);</pre></td>
    </tr>
    <tr>
      <td class='line'>933</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l933s0'>            response.setPageSize(pageSize);</pre></td>
    </tr>
    <tr>
      <td class='line'>934</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l934s0'>            response.setData(new ArrayList&lt;FindUserResult>(applicationUsers.values()));</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>936</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l936s0'>            return response;</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>938</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l938s0'>        } catch (Exception e) {</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>940</td><td>&nbsp;</td>
      <td><pre class='comment'>            // Rollback</pre></td>
    </tr>
    <tr>
      <td class='line'>941</td><td class='count'>0</td>
      <td><pre class='prettyprint jmp'>            <span id='l941s0' title='Executions: 0' class='uncovered'>if (connection != null)</span> {</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>943</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>                try {</pre></td>
    </tr>
    <tr>
      <td class='line'>944</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l944s0'>                    connection.rollback();</pre></td>
    </tr>
    <tr>
      <td class='line'>945</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l945s0'>                } catch (SQLException sqle) {</pre></td>
    </tr>
    <tr>
      <td class='line'>946</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l946s0'>                    sqle.printStackTrace();</pre></td>
    </tr>
    <tr>
      <td class='line'>947</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l947s0'>                }</pre></td>
    </tr>
    <tr>
      <td class='line'>948</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>            }</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>950</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l950s0'>            throw new SandataRuntimeException(String.format("%s: %s",</pre></td>
    </tr>
    <tr>
      <td class='line'>951</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>                e.getClass().getName(), e.getMessage()));</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>953</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>        } finally {</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>955</td><td>&nbsp;</td>
      <td><pre class='comment'>            // Close the ResultSet</pre></td>
    </tr>
    <tr>
      <td class='line'>956</td><td class='count'>0</td>
      <td><pre class='prettyprint jmp'>            <span id='l956s0' title='Executions: 0' class='uncovered'>if (resultSet != null)</span> {</pre></td>
    </tr>
    <tr>
      <td class='line'>957</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>                try {</pre></td>
    </tr>
    <tr>
      <td class='line'>958</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l958s0'>                    resultSet.close();</pre></td>
    </tr>
    <tr>
      <td class='line'>959</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l959s0'>                } catch (SQLException sqle) {</pre></td>
    </tr>
    <tr>
      <td class='line'>960</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l960s0'>                    sqle.printStackTrace();</pre></td>
    </tr>
    <tr>
      <td class='line'>961</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l961s0'>                }</pre></td>
    </tr>
    <tr>
      <td class='line'>962</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>            }</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>964</td><td>&nbsp;</td>
      <td><pre class='comment'>            // Close the statement</pre></td>
    </tr>
    <tr>
      <td class='line'>965</td><td class='count'>0</td>
      <td><pre class='prettyprint jmp'>            <span id='l965s0' title='Executions: 0' class='uncovered'>if (preparedStatement != null)</span> {</pre></td>
    </tr>
    <tr>
      <td class='line'>966</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>                try {</pre></td>
    </tr>
    <tr>
      <td class='line'>967</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l967s0'>                    preparedStatement.close();</pre></td>
    </tr>
    <tr>
      <td class='line'>968</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l968s0'>                } catch (SQLException sqle) {</pre></td>
    </tr>
    <tr>
      <td class='line'>969</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l969s0'>                    sqle.printStackTrace();</pre></td>
    </tr>
    <tr>
      <td class='line'>970</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l970s0'>                }</pre></td>
    </tr>
    <tr>
      <td class='line'>971</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>            }</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>973</td><td>&nbsp;</td>
      <td><pre class='comment'>            // Close the connection</pre></td>
    </tr>
    <tr>
      <td class='line'>974</td><td class='count'>0</td>
      <td><pre class='prettyprint jmp'>            <span id='l974s0' title='Executions: 0' class='uncovered'>if (connection != null)</span> {</pre></td>
    </tr>
    <tr>
      <td class='line'>975</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>                try {</pre></td>
    </tr>
    <tr>
      <td class='line'>976</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l976s0'>                    connection.close();</pre></td>
    </tr>
    <tr>
      <td class='line'>977</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l977s0'>                } catch (SQLException sqle) {</pre></td>
    </tr>
    <tr>
      <td class='line'>978</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l978s0'>                    sqle.printStackTrace();</pre></td>
    </tr>
    <tr>
      <td class='line'>979</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l979s0'>                }</pre></td>
    </tr>
    <tr>
      <td class='line'>980</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>            }</pre></td>
    </tr>
    <tr>
      <td class='line'>981</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>        }</pre></td>
    </tr>
    <tr>
      <td class='line'>982</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>    }</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>984</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>    protected ConnectionPoolDataService connectionPoolDataService;</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>986</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>    public Connection getOracleConnection() throws SandataRuntimeException {</pre></td>
    </tr>
    <tr>
      <td class='line'>987</td><td class='count'>1</td>
      <td><pre class='prettyprint covered' id='l987s0'>        return connectionPoolDataService.getConnection(ConnectionType.METADATA);</pre></td>
    </tr>
    <tr>
      <td class='line'>988</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>    }</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>990</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>    public ConnectionPoolDataService getConnectionPoolDataService() {</pre></td>
    </tr>
    <tr>
      <td class='line'>991</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l991s0'>        return connectionPoolDataService;</pre></td>
    </tr>
    <tr>
      <td class='line'>992</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>    }</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>994</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>    public void setConnectionPoolDataService(ConnectionPoolDataService connectionPoolDataService) {</pre></td>
    </tr>
    <tr>
      <td class='line'>995</td><td class='count'>1</td>
      <td><pre class='prettyprint covered' id='l995s0'>        this.connectionPoolDataService = connectionPoolDataService;</pre></td>
    </tr>
    <tr>
      <td class='line'>996</td><td class='count'>1</td>
      <td><pre class='prettyprint covered' id='l996s0'>    }</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>998</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>    @Override</pre></td>
    </tr>
    <tr>
      <td class='line'>999</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>    public Object executeGet(String packageName, String methodName, String className, Object... params)</pre></td>
    </tr>
    <tr>
      <td class='line'>1000</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>        throws SandataRuntimeException {</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>1002</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1002s0'>        Connection connection = null;</pre></td>
    </tr>
    <tr>
      <td class='line'>1003</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1003s0'>        CallableStatement callableStatement = null;</pre></td>
    </tr>
    <tr>
      <td class='line'>1004</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1004s0'>        ResultSet resultSet = null;</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>1006</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>        try {</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>1008</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1008s0'>            connection = connectionPoolDataService.getConnection();</pre></td>
    </tr>
    <tr>
      <td class='line'>1009</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1009s0'>            connection.setAutoCommit(false);</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>1011</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1011s0'>            ArrayDescriptor des = ArrayDescriptor.createDescriptor("COREDATA.NUMBER_ARRAY", connection);</pre></td>
    </tr>
    <tr>
      <td class='line'>1012</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1012s0'>            ARRAY primaryKeysArray = new ARRAY(des, connection, params);</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>1014</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1014s0'>            String callMethod = String.format("{?=call %s.%s.%s(?)}", ConnectionType.METADATA, packageName, methodName);</pre></td>
    </tr>
    <tr>
      <td class='line'>1015</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1015s0'>            callableStatement = connection.prepareCall(callMethod);</pre></td>
    </tr>
    <tr>
      <td class='line'>1016</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1016s0'>            callableStatement.registerOutParameter(1, OracleTypes.CURSOR);</pre></td>
    </tr>
    <tr>
      <td class='line'>1017</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1017s0'>            callableStatement.setArray(2, primaryKeysArray);</pre></td>
    </tr>
    <tr>
      <td class='line'>1018</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1018s0'>            callableStatement.execute();</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>1020</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1020s0'>            resultSet = (ResultSet) callableStatement.getObject(1);</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>1022</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1022s0'>            Object result = new DataMapper().map(resultSet, className);</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>1024</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1024s0'>            connection.commit();</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>1026</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1026s0'>            return result;</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>1028</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1028s0'>        } catch (Exception e) {</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>1030</td><td>&nbsp;</td>
      <td><pre class='comment'>            // Rollback</pre></td>
    </tr>
    <tr>
      <td class='line'>1031</td><td class='count'>0</td>
      <td><pre class='prettyprint jmp'>            <span id='l1031s0' title='Executions: 0' class='uncovered'>if (connection != null)</span> {</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>1033</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>                try {</pre></td>
    </tr>
    <tr>
      <td class='line'>1034</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1034s0'>                    connection.rollback();</pre></td>
    </tr>
    <tr>
      <td class='line'>1035</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1035s0'>                } catch (SQLException sqle) {</pre></td>
    </tr>
    <tr>
      <td class='line'>1036</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1036s0'>                    sqle.printStackTrace();</pre></td>
    </tr>
    <tr>
      <td class='line'>1037</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1037s0'>                }</pre></td>
    </tr>
    <tr>
      <td class='line'>1038</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>            }</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>1040</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1040s0'>            throw new SandataRuntimeException(String.format("[%s][%s][%s]: %s: %s",</pre></td>
    </tr>
    <tr>
      <td class='line'>1041</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>                packageName, methodName, className,</pre></td>
    </tr>
    <tr>
      <td class='line'>1042</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>                e.getClass().getName(), e.getMessage()));</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>1044</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>        } finally {</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>1046</td><td>&nbsp;</td>
      <td><pre class='comment'>            // Close the ResultSet</pre></td>
    </tr>
    <tr>
      <td class='line'>1047</td><td class='count'>0</td>
      <td><pre class='prettyprint jmp'>            <span id='l1047s0' title='Executions: 0' class='uncovered'>if (resultSet != null)</span> {</pre></td>
    </tr>
    <tr>
      <td class='line'>1048</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>                try {</pre></td>
    </tr>
    <tr>
      <td class='line'>1049</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1049s0'>                    resultSet.close();</pre></td>
    </tr>
    <tr>
      <td class='line'>1050</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1050s0'>                } catch (SQLException sqle) {</pre></td>
    </tr>
    <tr>
      <td class='line'>1051</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1051s0'>                    sqle.printStackTrace();</pre></td>
    </tr>
    <tr>
      <td class='line'>1052</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1052s0'>                }</pre></td>
    </tr>
    <tr>
      <td class='line'>1053</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>            }</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>1055</td><td>&nbsp;</td>
      <td><pre class='comment'>            // Close the Statement</pre></td>
    </tr>
    <tr>
      <td class='line'>1056</td><td class='count'>0</td>
      <td><pre class='prettyprint jmp'>            <span id='l1056s0' title='Executions: 0' class='uncovered'>if (callableStatement != null)</span> {</pre></td>
    </tr>
    <tr>
      <td class='line'>1057</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>                try {</pre></td>
    </tr>
    <tr>
      <td class='line'>1058</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1058s0'>                    callableStatement.close();</pre></td>
    </tr>
    <tr>
      <td class='line'>1059</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1059s0'>                } catch (SQLException sqle) {</pre></td>
    </tr>
    <tr>
      <td class='line'>1060</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1060s0'>                    sqle.printStackTrace();</pre></td>
    </tr>
    <tr>
      <td class='line'>1061</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1061s0'>                }</pre></td>
    </tr>
    <tr>
      <td class='line'>1062</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>            }</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>1064</td><td>&nbsp;</td>
      <td><pre class='comment'>            // Close the Connection</pre></td>
    </tr>
    <tr>
      <td class='line'>1065</td><td class='count'>0</td>
      <td><pre class='prettyprint jmp'>            <span id='l1065s0' title='Executions: 0' class='uncovered'>if (connection != null)</span> {</pre></td>
    </tr>
    <tr>
      <td class='line'>1066</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>                try {</pre></td>
    </tr>
    <tr>
      <td class='line'>1067</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1067s0'>                    connection.close();</pre></td>
    </tr>
    <tr>
      <td class='line'>1068</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1068s0'>                } catch (SQLException sqle) {</pre></td>
    </tr>
    <tr>
      <td class='line'>1069</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1069s0'>                    sqle.printStackTrace();</pre></td>
    </tr>
    <tr>
      <td class='line'>1070</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1070s0'>                }</pre></td>
    </tr>
    <tr>
      <td class='line'>1071</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>            }</pre></td>
    </tr>
    <tr>
      <td class='line'>1072</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>        }</pre></td>
    </tr>
    <tr>
      <td class='line'>1073</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>    }</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>1075</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>    @Override</pre></td>
    </tr>
    <tr>
      <td class='line'>1076</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>    public Object executeGet(String packageName, String methodName, String className, int sequenceKey) throws SandataRuntimeException {</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>1078</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1078s0'>        Connection connection = null;</pre></td>
    </tr>
    <tr>
      <td class='line'>1079</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1079s0'>        CallableStatement callableStatement = null;</pre></td>
    </tr>
    <tr>
      <td class='line'>1080</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1080s0'>        ResultSet resultSet = null;</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>1082</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>        try {</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>1084</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1084s0'>            connection = connectionPoolDataService.getConnection();</pre></td>
    </tr>
    <tr>
      <td class='line'>1085</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1085s0'>            connection.setAutoCommit(false);</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>1087</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1087s0'>            String callMethod = String.format("{?=call %s.%s.%s(?)}", ConnectionType.METADATA, packageName, methodName);</pre></td>
    </tr>
    <tr>
      <td class='line'>1088</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1088s0'>            callableStatement = connection.prepareCall(callMethod);</pre></td>
    </tr>
    <tr>
      <td class='line'>1089</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1089s0'>            callableStatement.registerOutParameter(1, OracleTypes.CURSOR);</pre></td>
    </tr>
    <tr>
      <td class='line'>1090</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1090s0'>            callableStatement.setInt(2, sequenceKey);</pre></td>
    </tr>
    <tr>
      <td class='line'>1091</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1091s0'>            callableStatement.execute();</pre></td>
    </tr>
    <tr>
      <td class='line'>1092</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1092s0'>            resultSet = (ResultSet) callableStatement.getObject(1);</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>1094</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1094s0'>            Object result = new DataMapper().map(resultSet, className);</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>1096</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1096s0'>            connection.commit();</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>1098</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1098s0'>            return result;</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>1100</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1100s0'>        } catch (Exception e) {</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>1102</td><td>&nbsp;</td>
      <td><pre class='comment'>            // Rollback</pre></td>
    </tr>
    <tr>
      <td class='line'>1103</td><td class='count'>0</td>
      <td><pre class='prettyprint jmp'>            <span id='l1103s0' title='Executions: 0' class='uncovered'>if (connection != null)</span> {</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>1105</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>                try {</pre></td>
    </tr>
    <tr>
      <td class='line'>1106</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1106s0'>                    connection.rollback();</pre></td>
    </tr>
    <tr>
      <td class='line'>1107</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1107s0'>                } catch (SQLException sqle) {</pre></td>
    </tr>
    <tr>
      <td class='line'>1108</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1108s0'>                    sqle.printStackTrace();</pre></td>
    </tr>
    <tr>
      <td class='line'>1109</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1109s0'>                }</pre></td>
    </tr>
    <tr>
      <td class='line'>1110</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>            }</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>1112</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1112s0'>            throw new SandataRuntimeException(String.format("[%s][%s][%s]: %s: %s",</pre></td>
    </tr>
    <tr>
      <td class='line'>1113</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>                packageName, methodName, className,</pre></td>
    </tr>
    <tr>
      <td class='line'>1114</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>                e.getClass().getName(), e.getMessage()));</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>1116</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>        } finally {</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>1118</td><td>&nbsp;</td>
      <td><pre class='comment'>            // Close the ResultSet</pre></td>
    </tr>
    <tr>
      <td class='line'>1119</td><td class='count'>0</td>
      <td><pre class='prettyprint jmp'>            <span id='l1119s0' title='Executions: 0' class='uncovered'>if (resultSet != null)</span> {</pre></td>
    </tr>
    <tr>
      <td class='line'>1120</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>                try {</pre></td>
    </tr>
    <tr>
      <td class='line'>1121</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1121s0'>                    resultSet.close();</pre></td>
    </tr>
    <tr>
      <td class='line'>1122</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1122s0'>                } catch (SQLException sqle) {</pre></td>
    </tr>
    <tr>
      <td class='line'>1123</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1123s0'>                    sqle.printStackTrace();</pre></td>
    </tr>
    <tr>
      <td class='line'>1124</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1124s0'>                }</pre></td>
    </tr>
    <tr>
      <td class='line'>1125</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>            }</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>1127</td><td>&nbsp;</td>
      <td><pre class='comment'>            // Close the Statement</pre></td>
    </tr>
    <tr>
      <td class='line'>1128</td><td class='count'>0</td>
      <td><pre class='prettyprint jmp'>            <span id='l1128s0' title='Executions: 0' class='uncovered'>if (callableStatement != null)</span> {</pre></td>
    </tr>
    <tr>
      <td class='line'>1129</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>                try {</pre></td>
    </tr>
    <tr>
      <td class='line'>1130</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1130s0'>                    callableStatement.close();</pre></td>
    </tr>
    <tr>
      <td class='line'>1131</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1131s0'>                } catch (SQLException sqle) {</pre></td>
    </tr>
    <tr>
      <td class='line'>1132</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1132s0'>                    sqle.printStackTrace();</pre></td>
    </tr>
    <tr>
      <td class='line'>1133</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1133s0'>                }</pre></td>
    </tr>
    <tr>
      <td class='line'>1134</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>            }</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>1136</td><td>&nbsp;</td>
      <td><pre class='comment'>            // Close the Connection</pre></td>
    </tr>
    <tr>
      <td class='line'>1137</td><td class='count'>0</td>
      <td><pre class='prettyprint jmp'>            <span id='l1137s0' title='Executions: 0' class='uncovered'>if (connection != null)</span> {</pre></td>
    </tr>
    <tr>
      <td class='line'>1138</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>                try {</pre></td>
    </tr>
    <tr>
      <td class='line'>1139</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1139s0'>                    connection.close();</pre></td>
    </tr>
    <tr>
      <td class='line'>1140</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1140s0'>                } catch (SQLException sqle) {</pre></td>
    </tr>
    <tr>
      <td class='line'>1141</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1141s0'>                    sqle.printStackTrace();</pre></td>
    </tr>
    <tr>
      <td class='line'>1142</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1142s0'>                }</pre></td>
    </tr>
    <tr>
      <td class='line'>1143</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>            }</pre></td>
    </tr>
    <tr>
      <td class='line'>1144</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>        }</pre></td>
    </tr>
    <tr>
      <td class='line'>1145</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>    }</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>1147</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>    @Override</pre></td>
    </tr>
    <tr>
      <td class='line'>1148</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>    public int execute(String packageName, String methodName, int sequenceKey) throws SandataRuntimeException {</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>1150</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1150s0'>        Connection connection = null;</pre></td>
    </tr>
    <tr>
      <td class='line'>1151</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1151s0'>        CallableStatement callableStatement = null;</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>1153</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>        try {</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>1155</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1155s0'>            connection = connectionPoolDataService.getConnection();</pre></td>
    </tr>
    <tr>
      <td class='line'>1156</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1156s0'>            connection.setAutoCommit(false);</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>1158</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1158s0'>            String callMethod = String.format("{?=call %s.%s.%s(?)}", ConnectionType.METADATA, packageName, methodName);</pre></td>
    </tr>
    <tr>
      <td class='line'>1159</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1159s0'>            callableStatement = connection.prepareCall(callMethod);</pre></td>
    </tr>
    <tr>
      <td class='line'>1160</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1160s0'>            callableStatement.registerOutParameter(1, OracleTypes.INTEGER);</pre></td>
    </tr>
    <tr>
      <td class='line'>1161</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1161s0'>            callableStatement.setInt(2, sequenceKey);</pre></td>
    </tr>
    <tr>
      <td class='line'>1162</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1162s0'>            callableStatement.execute();</pre></td>
    </tr>
    <tr>
      <td class='line'>1163</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1163s0'>            int result = (Integer) callableStatement.getObject(1);</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>1165</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1165s0'>            connection.commit();</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>1167</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1167s0'>            return result;</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>1169</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1169s0'>        } catch (Exception e) {</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>1171</td><td>&nbsp;</td>
      <td><pre class='comment'>            // Rollback</pre></td>
    </tr>
    <tr>
      <td class='line'>1172</td><td class='count'>0</td>
      <td><pre class='prettyprint jmp'>            <span id='l1172s0' title='Executions: 0' class='uncovered'>if (connection != null)</span> {</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>1174</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>                try {</pre></td>
    </tr>
    <tr>
      <td class='line'>1175</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1175s0'>                    connection.rollback();</pre></td>
    </tr>
    <tr>
      <td class='line'>1176</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1176s0'>                } catch (SQLException sqle) {</pre></td>
    </tr>
    <tr>
      <td class='line'>1177</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1177s0'>                    sqle.printStackTrace();</pre></td>
    </tr>
    <tr>
      <td class='line'>1178</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1178s0'>                }</pre></td>
    </tr>
    <tr>
      <td class='line'>1179</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>            }</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>1181</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1181s0'>            throw new SandataRuntimeException(String.format("[%s][%s]: %s: %s",</pre></td>
    </tr>
    <tr>
      <td class='line'>1182</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>                packageName, methodName,</pre></td>
    </tr>
    <tr>
      <td class='line'>1183</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>                e.getClass().getName(), e.getMessage()));</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>1185</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>        } finally {</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>1187</td><td>&nbsp;</td>
      <td><pre class='comment'>            // Close the Statement</pre></td>
    </tr>
    <tr>
      <td class='line'>1188</td><td class='count'>0</td>
      <td><pre class='prettyprint jmp'>            <span id='l1188s0' title='Executions: 0' class='uncovered'>if (callableStatement != null)</span> {</pre></td>
    </tr>
    <tr>
      <td class='line'>1189</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>                try {</pre></td>
    </tr>
    <tr>
      <td class='line'>1190</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1190s0'>                    callableStatement.close();</pre></td>
    </tr>
    <tr>
      <td class='line'>1191</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1191s0'>                } catch (SQLException sqle) {</pre></td>
    </tr>
    <tr>
      <td class='line'>1192</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1192s0'>                    sqle.printStackTrace();</pre></td>
    </tr>
    <tr>
      <td class='line'>1193</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1193s0'>                }</pre></td>
    </tr>
    <tr>
      <td class='line'>1194</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>            }</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>1196</td><td>&nbsp;</td>
      <td><pre class='comment'>            // Close the Connection</pre></td>
    </tr>
    <tr>
      <td class='line'>1197</td><td class='count'>0</td>
      <td><pre class='prettyprint jmp'>            <span id='l1197s0' title='Executions: 0' class='uncovered'>if (connection != null)</span> {</pre></td>
    </tr>
    <tr>
      <td class='line'>1198</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>                try {</pre></td>
    </tr>
    <tr>
      <td class='line'>1199</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1199s0'>                    connection.close();</pre></td>
    </tr>
    <tr>
      <td class='line'>1200</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1200s0'>                } catch (SQLException sqle) {</pre></td>
    </tr>
    <tr>
      <td class='line'>1201</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1201s0'>                    sqle.printStackTrace();</pre></td>
    </tr>
    <tr>
      <td class='line'>1202</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1202s0'>                }</pre></td>
    </tr>
    <tr>
      <td class='line'>1203</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>            }</pre></td>
    </tr>
    <tr>
      <td class='line'>1204</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>        }</pre></td>
    </tr>
    <tr>
      <td class='line'>1205</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>    }</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>1207</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>    @Override</pre></td>
    </tr>
    <tr>
      <td class='line'>1208</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>    public int execute(String packageName, String methodName, Object jpubType) throws SandataRuntimeException {</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>1210</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1210s0'>        Connection connection = null;</pre></td>
    </tr>
    <tr>
      <td class='line'>1211</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1211s0'>        CallableStatement callableStatement = null;</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>1213</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>        try {</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>1215</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1215s0'>            connection = connectionPoolDataService.getConnection();</pre></td>
    </tr>
    <tr>
      <td class='line'>1216</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1216s0'>            connection.setAutoCommit(false);</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>1218</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1218s0'>            String callMethod = String.format("{?=call %s.%s.%s(?)}", ConnectionType.METADATA, packageName, methodName);</pre></td>
    </tr>
    <tr>
      <td class='line'>1219</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1219s0'>            callableStatement = connection.prepareCall(callMethod);</pre></td>
    </tr>
    <tr>
      <td class='line'>1220</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1220s0'>            callableStatement.registerOutParameter(1, OracleTypes.INTEGER);</pre></td>
    </tr>
    <tr>
      <td class='line'>1221</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1221s0'>            callableStatement.setObject(2, jpubType);</pre></td>
    </tr>
    <tr>
      <td class='line'>1222</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1222s0'>            callableStatement.execute();</pre></td>
    </tr>
    <tr>
      <td class='line'>1223</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1223s0'>            int result = (Integer) callableStatement.getObject(1);</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>1225</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1225s0'>            connection.commit();</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>1227</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1227s0'>            return result;</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>1229</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1229s0'>        } catch (Exception e) {</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>1231</td><td>&nbsp;</td>
      <td><pre class='comment'>            // Rollback</pre></td>
    </tr>
    <tr>
      <td class='line'>1232</td><td class='count'>0</td>
      <td><pre class='prettyprint jmp'>            <span id='l1232s0' title='Executions: 0' class='uncovered'>if (connection != null)</span> {</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>1234</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>                try {</pre></td>
    </tr>
    <tr>
      <td class='line'>1235</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1235s0'>                    connection.rollback();</pre></td>
    </tr>
    <tr>
      <td class='line'>1236</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1236s0'>                } catch (SQLException sqle) {</pre></td>
    </tr>
    <tr>
      <td class='line'>1237</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1237s0'>                    sqle.printStackTrace();</pre></td>
    </tr>
    <tr>
      <td class='line'>1238</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1238s0'>                }</pre></td>
    </tr>
    <tr>
      <td class='line'>1239</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>            }</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>1241</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1241s0'>            throw new SandataRuntimeException(String.format("[%s][%s]: %s: %s",</pre></td>
    </tr>
    <tr>
      <td class='line'>1242</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>                packageName, methodName,</pre></td>
    </tr>
    <tr>
      <td class='line'>1243</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>                e.getClass().getName(), e.getMessage()));</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>1245</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>        } finally {</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>1247</td><td>&nbsp;</td>
      <td><pre class='comment'>            // Close the Statement</pre></td>
    </tr>
    <tr>
      <td class='line'>1248</td><td class='count'>0</td>
      <td><pre class='prettyprint jmp'>            <span id='l1248s0' title='Executions: 0' class='uncovered'>if (callableStatement != null)</span> {</pre></td>
    </tr>
    <tr>
      <td class='line'>1249</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>                try {</pre></td>
    </tr>
    <tr>
      <td class='line'>1250</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1250s0'>                    callableStatement.close();</pre></td>
    </tr>
    <tr>
      <td class='line'>1251</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1251s0'>                } catch (SQLException sqle) {</pre></td>
    </tr>
    <tr>
      <td class='line'>1252</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1252s0'>                    sqle.printStackTrace();</pre></td>
    </tr>
    <tr>
      <td class='line'>1253</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1253s0'>                }</pre></td>
    </tr>
    <tr>
      <td class='line'>1254</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>            }</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>1256</td><td>&nbsp;</td>
      <td><pre class='comment'>            // Close the Connection</pre></td>
    </tr>
    <tr>
      <td class='line'>1257</td><td class='count'>0</td>
      <td><pre class='prettyprint jmp'>            <span id='l1257s0' title='Executions: 0' class='uncovered'>if (connection != null)</span> {</pre></td>
    </tr>
    <tr>
      <td class='line'>1258</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>                try {</pre></td>
    </tr>
    <tr>
      <td class='line'>1259</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1259s0'>                    connection.close();</pre></td>
    </tr>
    <tr>
      <td class='line'>1260</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1260s0'>                } catch (SQLException sqle) {</pre></td>
    </tr>
    <tr>
      <td class='line'>1261</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1261s0'>                    sqle.printStackTrace();</pre></td>
    </tr>
    <tr>
      <td class='line'>1262</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1262s0'>                }</pre></td>
    </tr>
    <tr>
      <td class='line'>1263</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>            }</pre></td>
    </tr>
    <tr>
      <td class='line'>1264</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>        }</pre></td>
    </tr>
    <tr>
      <td class='line'>1265</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>    }</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>1267</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>    @Override</pre></td>
    </tr>
    <tr>
      <td class='line'>1268</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>    public int execute(Connection connection, String packageName, String methodName, Object jpubType) throws SandataRuntimeException {</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>1270</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1270s0'>        CallableStatement callableStatement = null;</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>1272</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>        try {</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>1274</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1274s0'>            String callMethod = String.format("{?=call %s.%s.%s(?)}", ConnectionType.METADATA, packageName, methodName);</pre></td>
    </tr>
    <tr>
      <td class='line'>1275</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1275s0'>            callableStatement = connection.prepareCall(callMethod);</pre></td>
    </tr>
    <tr>
      <td class='line'>1276</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1276s0'>            callableStatement.registerOutParameter(1, OracleTypes.INTEGER);</pre></td>
    </tr>
    <tr>
      <td class='line'>1277</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1277s0'>            callableStatement.setObject(2, jpubType);</pre></td>
    </tr>
    <tr>
      <td class='line'>1278</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1278s0'>            callableStatement.execute();</pre></td>
    </tr>
    <tr>
      <td class='line'>1279</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1279s0'>            int result = (Integer) callableStatement.getObject(1);</pre></td>
    </tr>
    <tr>
      <td class='line'>1280</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1280s0'>            return result;</pre></td>
    </tr>
    <tr>
      <td class='line'>1281</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1281s0'>        } catch (Exception e) {</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>1283</td><td>&nbsp;</td>
      <td><pre class='comment'>            // NOTE: Rollback (if necessary) should be handled by caller since they passed in the connection...</pre></td>
    </tr>
    <tr>
      <td class='line'>1284</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1284s0'>            throw new SandataRuntimeException(String.format("[%s][%s]: %s: %s",</pre></td>
    </tr>
    <tr>
      <td class='line'>1285</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>                packageName, methodName,</pre></td>
    </tr>
    <tr>
      <td class='line'>1286</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>                e.getClass().getName(), e.getMessage()));</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>1288</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>        } finally {</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>1290</td><td>&nbsp;</td>
      <td><pre class='comment'>            // Close the Statement</pre></td>
    </tr>
    <tr>
      <td class='line'>1291</td><td class='count'>0</td>
      <td><pre class='prettyprint jmp'>            <span id='l1291s0' title='Executions: 0' class='uncovered'>if (callableStatement != null)</span> {</pre></td>
    </tr>
    <tr>
      <td class='line'>1292</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>                try {</pre></td>
    </tr>
    <tr>
      <td class='line'>1293</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1293s0'>                    callableStatement.close();</pre></td>
    </tr>
    <tr>
      <td class='line'>1294</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1294s0'>                } catch (SQLException sqle) {</pre></td>
    </tr>
    <tr>
      <td class='line'>1295</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1295s0'>                    sqle.printStackTrace();</pre></td>
    </tr>
    <tr>
      <td class='line'>1296</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1296s0'>                }</pre></td>
    </tr>
    <tr>
      <td class='line'>1297</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>            }</pre></td>
    </tr>
    <tr>
      <td class='line'>1298</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>        }</pre></td>
    </tr>
    <tr>
      <td class='line'>1299</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>    }</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>1301</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>    public Object getEntitiesForId(final String sql, final String className, final Object... params) throws SandataRuntimeException {</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>1303</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1303s0'>        Connection connection = null;</pre></td>
    </tr>
    <tr>
      <td class='line'>1304</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1304s0'>        PreparedStatement preparedStatement = null;</pre></td>
    </tr>
    <tr>
      <td class='line'>1305</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1305s0'>        ResultSet resultSet = null;</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>1307</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>        try {</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>1309</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1309s0'>            connection = connectionPoolDataService.getConnection();</pre></td>
    </tr>
    <tr>
      <td class='line'>1310</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1310s0'>            connection.setAutoCommit(false);</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>1312</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1312s0'>            preparedStatement = connection.prepareStatement(sql);</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>1314</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1314s0'>            int index = 1;</pre></td>
    </tr>
    <tr>
      <td class='line'>1315</td><td class='count'>0</td>
      <td><pre class='prettyprint jmp'>            <span id='l1315s0' title='Executions: 0' class='uncovered'>for (Object object</span> : <span id='l1315s1' title='Executions: 0' class='uncovered'>params)</span> {</pre></td>
    </tr>
    <tr>
      <td class='line'>1316</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1316s0'>                preparedStatement.setObject(index++, object);</pre></td>
    </tr>
    <tr>
      <td class='line'>1317</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>            }</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>1319</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1319s0'>            resultSet = preparedStatement.executeQuery();</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>1321</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1321s0'>            Object result = new DataMapper().map(resultSet, className);</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>1323</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1323s0'>            connection.commit();</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>1325</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1325s0'>            return result;</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>1327</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1327s0'>        } catch (Exception e) {</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>1329</td><td>&nbsp;</td>
      <td><pre class='comment'>            // Rollback</pre></td>
    </tr>
    <tr>
      <td class='line'>1330</td><td class='count'>0</td>
      <td><pre class='prettyprint jmp'>            <span id='l1330s0' title='Executions: 0' class='uncovered'>if (connection != null)</span> {</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>1332</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>                try {</pre></td>
    </tr>
    <tr>
      <td class='line'>1333</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1333s0'>                    connection.rollback();</pre></td>
    </tr>
    <tr>
      <td class='line'>1334</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1334s0'>                } catch (SQLException sqle) {</pre></td>
    </tr>
    <tr>
      <td class='line'>1335</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1335s0'>                    sqle.printStackTrace();</pre></td>
    </tr>
    <tr>
      <td class='line'>1336</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1336s0'>                }</pre></td>
    </tr>
    <tr>
      <td class='line'>1337</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>            }</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>1339</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1339s0'>            throw new SandataRuntimeException(String.format("%s: %s",</pre></td>
    </tr>
    <tr>
      <td class='line'>1340</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>                e.getClass().getName(), e.getMessage()));</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>1342</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>        } finally {</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>1344</td><td>&nbsp;</td>
      <td><pre class='comment'>            // Close the ResultSet</pre></td>
    </tr>
    <tr>
      <td class='line'>1345</td><td class='count'>0</td>
      <td><pre class='prettyprint jmp'>            <span id='l1345s0' title='Executions: 0' class='uncovered'>if (resultSet != null)</span> {</pre></td>
    </tr>
    <tr>
      <td class='line'>1346</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>                try {</pre></td>
    </tr>
    <tr>
      <td class='line'>1347</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1347s0'>                    resultSet.close();</pre></td>
    </tr>
    <tr>
      <td class='line'>1348</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1348s0'>                } catch (SQLException sqle) {</pre></td>
    </tr>
    <tr>
      <td class='line'>1349</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1349s0'>                    sqle.printStackTrace();</pre></td>
    </tr>
    <tr>
      <td class='line'>1350</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1350s0'>                }</pre></td>
    </tr>
    <tr>
      <td class='line'>1351</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>            }</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>1353</td><td>&nbsp;</td>
      <td><pre class='comment'>            // Close the statement</pre></td>
    </tr>
    <tr>
      <td class='line'>1354</td><td class='count'>0</td>
      <td><pre class='prettyprint jmp'>            <span id='l1354s0' title='Executions: 0' class='uncovered'>if (preparedStatement != null)</span> {</pre></td>
    </tr>
    <tr>
      <td class='line'>1355</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>                try {</pre></td>
    </tr>
    <tr>
      <td class='line'>1356</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1356s0'>                    preparedStatement.close();</pre></td>
    </tr>
    <tr>
      <td class='line'>1357</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1357s0'>                } catch (SQLException sqle) {</pre></td>
    </tr>
    <tr>
      <td class='line'>1358</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1358s0'>                    sqle.printStackTrace();</pre></td>
    </tr>
    <tr>
      <td class='line'>1359</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1359s0'>                }</pre></td>
    </tr>
    <tr>
      <td class='line'>1360</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>            }</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>1362</td><td>&nbsp;</td>
      <td><pre class='comment'>            // Close the connection</pre></td>
    </tr>
    <tr>
      <td class='line'>1363</td><td class='count'>0</td>
      <td><pre class='prettyprint jmp'>            <span id='l1363s0' title='Executions: 0' class='uncovered'>if (connection != null)</span> {</pre></td>
    </tr>
    <tr>
      <td class='line'>1364</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>                try {</pre></td>
    </tr>
    <tr>
      <td class='line'>1365</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1365s0'>                    connection.close();</pre></td>
    </tr>
    <tr>
      <td class='line'>1366</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1366s0'>                } catch (SQLException sqle) {</pre></td>
    </tr>
    <tr>
      <td class='line'>1367</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1367s0'>                    sqle.printStackTrace();</pre></td>
    </tr>
    <tr>
      <td class='line'>1368</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1368s0'>                }</pre></td>
    </tr>
    <tr>
      <td class='line'>1369</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>            }</pre></td>
    </tr>
    <tr>
      <td class='line'>1370</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>        }</pre></td>
    </tr>
    <tr>
      <td class='line'>1371</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>    }</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'></td><td>&nbsp;</td>
      <td class='comment' onclick='showHideLines(this)'><div>    /**
     * Returns List of ApplicationModule.  Any rows in the table
     * that have a parent are put under their parent.
     *
     * @return List of defined application modules.
     */</div><span>    /*...*/</span></td>
    </tr>
    <tr>
      <td class='line'>1379</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>    public List&lt;ApplicationModule> getApplicationModules() {</pre></td>
    </tr>
    <tr>
      <td class='line'>1380</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1380s0'>        Connection connection = null;</pre></td>
    </tr>
    <tr>
      <td class='line'>1381</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1381s0'>        PreparedStatement preparedStatement = null;</pre></td>
    </tr>
    <tr>
      <td class='line'>1382</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1382s0'>        ResultSet resultSet = null;</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>1384</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>        try {</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>1386</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1386s0'>            connection = getOracleConnection();</pre></td>
    </tr>
    <tr>
      <td class='line'>1387</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1387s0'>            connection.setAutoCommit(false);</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>1389</td><td>&nbsp;</td>
      <td><pre class='comment'>            // Order by parent SK descending to ensure any parents are added to map first.</pre></td>
    </tr>
    <tr>
      <td class='line'>1390</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1390s0'>            String sql = "SELECT * FROM "</pre></td>
    </tr>
    <tr>
      <td class='line'>1391</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>                + ConnectionType.METADATA</pre></td>
    </tr>
    <tr>
      <td class='line'>1392</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>                + ".APP_MOD ORDER BY APP_MOD_PARENT_SK DESC";</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>1394</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1394s0'>            preparedStatement = connection.prepareStatement(sql);</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>1396</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1396s0'>            resultSet = preparedStatement.executeQuery();</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>1398</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1398s0'>            List&lt;ApplicationModule> applicationModuleList =</pre></td>
    </tr>
    <tr>
      <td class='line'>1399</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>                (List&lt;ApplicationModule>) new DataMapper().map(resultSet, "com.sandata.lab.data.model.dl.model.ApplicationModule");</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>1401</td><td class='count'>0</td>
      <td><pre class='prettyprint jmp'>            <span id='l1401s0' title='Executions: 0' class='uncovered'>if (applicationModuleList == null</span></pre></td>
    </tr>
    <tr>
      <td class='line'>1402</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>                || applicationModuleList.isEmpty()) {</pre></td>
    </tr>
    <tr>
      <td class='line'>1403</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1403s0'>                throw new SandataRuntimeException("Failed to query APP_MOD table!");</pre></td>
    </tr>
    <tr>
      <td class='line'>1404</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>            }</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>1406</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1406s0'>            Map&lt;BigInteger, ApplicationModule> applicationModuleMap = new LinkedHashMap&lt;>();</pre></td>
    </tr>
    <tr>
      <td class='line'>1407</td><td class='count'>0</td>
      <td><pre class='prettyprint jmp'>            <span id='l1407s0' title='Executions: 0' class='uncovered'>for (ApplicationModule applicationModule</span> : <span id='l1407s1' title='Executions: 0' class='uncovered'>applicationModuleList)</span> {</pre></td>
    </tr>
    <tr>
      <td class='line'>1408</td><td>&nbsp;</td>
      <td><pre class='comment'>                // If a parent, put into map.</pre></td>
    </tr>
    <tr>
      <td class='line'>1409</td><td class='count'>0</td>
      <td><pre class='prettyprint jmp'>                <span id='l1409s0' title='Executions: 0' class='uncovered'>if (applicationModule.getApplicationModuleParentSK() == null)</span> {</pre></td>
    </tr>
    <tr>
      <td class='line'>1410</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1410s0'>                    applicationModuleMap.put(applicationModule.getApplicationModuleSK(), applicationModule);</pre></td>
    </tr>
    <tr>
      <td class='line'>1411</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>                } else {</pre></td>
    </tr>
    <tr>
      <td class='line'>1412</td><td>&nbsp;</td>
      <td><pre class='comment'>                    // A child, find parent and add to list.</pre></td>
    </tr>
    <tr>
      <td class='line'>1413</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1413s0'>                    applicationModuleMap.get(applicationModule.getApplicationModuleParentSK())</pre></td>
    </tr>
    <tr>
      <td class='line'>1414</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>                        .getApplicationModule().add(applicationModule);</pre></td>
    </tr>
    <tr>
      <td class='line'>1415</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>                }</pre></td>
    </tr>
    <tr>
      <td class='line'>1416</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1416s0'>            }</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>1418</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1418s0'>            return new ArrayList&lt;>(applicationModuleMap.values());</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>1420</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1420s0'>        } catch (Exception e) {</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>1422</td><td>&nbsp;</td>
      <td><pre class='comment'>            // Rollback</pre></td>
    </tr>
    <tr>
      <td class='line'>1423</td><td class='count'>0</td>
      <td><pre class='prettyprint jmp'>            <span id='l1423s0' title='Executions: 0' class='uncovered'>if (connection != null)</span> {</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>1425</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>                try {</pre></td>
    </tr>
    <tr>
      <td class='line'>1426</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1426s0'>                    connection.rollback();</pre></td>
    </tr>
    <tr>
      <td class='line'>1427</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1427s0'>                } catch (SQLException sqle) {</pre></td>
    </tr>
    <tr>
      <td class='line'>1428</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1428s0'>                    sqle.printStackTrace();</pre></td>
    </tr>
    <tr>
      <td class='line'>1429</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1429s0'>                }</pre></td>
    </tr>
    <tr>
      <td class='line'>1430</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>            }</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>1432</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1432s0'>            throw new SandataRuntimeException(String.format("%s: %s",</pre></td>
    </tr>
    <tr>
      <td class='line'>1433</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>                e.getClass().getName(), e.getMessage()));</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>1435</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>        } finally {</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>1437</td><td>&nbsp;</td>
      <td><pre class='comment'>            // Close the ResultSet</pre></td>
    </tr>
    <tr>
      <td class='line'>1438</td><td class='count'>0</td>
      <td><pre class='prettyprint jmp'>            <span id='l1438s0' title='Executions: 0' class='uncovered'>if (resultSet != null)</span> {</pre></td>
    </tr>
    <tr>
      <td class='line'>1439</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>                try {</pre></td>
    </tr>
    <tr>
      <td class='line'>1440</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1440s0'>                    resultSet.close();</pre></td>
    </tr>
    <tr>
      <td class='line'>1441</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1441s0'>                } catch (SQLException sqle) {</pre></td>
    </tr>
    <tr>
      <td class='line'>1442</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1442s0'>                    sqle.printStackTrace();</pre></td>
    </tr>
    <tr>
      <td class='line'>1443</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1443s0'>                }</pre></td>
    </tr>
    <tr>
      <td class='line'>1444</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>            }</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>1446</td><td>&nbsp;</td>
      <td><pre class='comment'>            // Close the statement</pre></td>
    </tr>
    <tr>
      <td class='line'>1447</td><td class='count'>0</td>
      <td><pre class='prettyprint jmp'>            <span id='l1447s0' title='Executions: 0' class='uncovered'>if (preparedStatement != null)</span> {</pre></td>
    </tr>
    <tr>
      <td class='line'>1448</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>                try {</pre></td>
    </tr>
    <tr>
      <td class='line'>1449</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1449s0'>                    preparedStatement.close();</pre></td>
    </tr>
    <tr>
      <td class='line'>1450</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1450s0'>                } catch (SQLException sqle) {</pre></td>
    </tr>
    <tr>
      <td class='line'>1451</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1451s0'>                    sqle.printStackTrace();</pre></td>
    </tr>
    <tr>
      <td class='line'>1452</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1452s0'>                }</pre></td>
    </tr>
    <tr>
      <td class='line'>1453</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>            }</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>1455</td><td>&nbsp;</td>
      <td><pre class='comment'>            // Close the connection</pre></td>
    </tr>
    <tr>
      <td class='line'>1456</td><td class='count'>0</td>
      <td><pre class='prettyprint jmp'>            <span id='l1456s0' title='Executions: 0' class='uncovered'>if (connection != null)</span> {</pre></td>
    </tr>
    <tr>
      <td class='line'>1457</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>                try {</pre></td>
    </tr>
    <tr>
      <td class='line'>1458</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1458s0'>                    connection.close();</pre></td>
    </tr>
    <tr>
      <td class='line'>1459</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1459s0'>                } catch (SQLException sqle) {</pre></td>
    </tr>
    <tr>
      <td class='line'>1460</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1460s0'>                    sqle.printStackTrace();</pre></td>
    </tr>
    <tr>
      <td class='line'>1461</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l1461s0'>                }</pre></td>
    </tr>
    <tr>
      <td class='line'>1462</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>            }</pre></td>
    </tr>
    <tr>
      <td class='line'>1463</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>        }</pre></td>
    </tr>
    <tr>
      <td class='line'>1464</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>    }</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>1466</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>}</pre></td>
    </tr>
  </table>
</body>
</html>
